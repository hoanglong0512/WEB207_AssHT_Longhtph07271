{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\ReactJs\\\\longhtph07271_Project\\\\src\\\\pages\\\\views\\\\Admin\\\\AddBlog\\\\index.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useForm } from \"react-hook-form\";\nimport { useHistory, Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { Editor } from '@tinymce/tinymce-react';\nimport firebase from '../../../../firebase';\n\nconst AddBlog = props => {\n  let history = useHistory();\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const [detail, setDetail] = useState(\"\");\n\n  const onHandleSubmit = data => {\n    console.log(data.image[0]);\n    let file = data.image[0]; // tạo reference chứa ảnh trên firesbase\n\n    let storageRef = firebase.storage().ref(`images/${file.name}`); // đẩy ảnh lên đường dẫn trên\n\n    storageRef.put(file).then(function () {\n      storageRef.getDownloadURL().then(url => {\n        console.log(url); // Tạo object mới chứa toàn bộ thông tin từ input\n\n        const newData = { ...data,\n          detail,\n          image: url\n        };\n        console.log(newData); // đẩy dữ liệu ra ngoài app.js thông qua props onAdd\n\n        onAdd(newData);\n        history.push(\"/admin/products\");\n        swal(\"Thông Báo\", \"Thêm Sản Phẩm Thành Công!\", \"success\");\n      });\n    });\n  };\n\n  const handleEditorChange = content => {\n    setDetail(content);\n    console.log(content);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Th\\xEAm Blog\"));\n};\n\nAddBlog.propTypes = {};\nexport default AddBlog;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/ReactJs/longhtph07271_Project/src/pages/views/Admin/AddBlog/index.js"],"names":["React","useState","PropTypes","useForm","useHistory","Link","swal","Editor","firebase","AddBlog","props","history","handleSubmit","register","errors","detail","setDetail","onHandleSubmit","data","console","log","image","file","storageRef","storage","ref","name","put","then","getDownloadURL","url","newData","onAdd","push","handleEditorChange","content","propTypes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,MAAT,QAAuB,wBAAvB;AACA,OAAOC,QAAP,MAAqB,sBAArB;;AAEA,MAAMC,OAAO,GAAGC,KAAK,IAAI;AACrB,MAAIC,OAAO,GAAGP,UAAU,EAAxB;AACA,QAAM;AAAEQ,IAAAA,YAAF;AAAgBC,IAAAA,QAAhB;AAA0BC,IAAAA;AAA1B,MAAqCX,OAAO,EAAlD;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBf,QAAQ,CAAC,EAAD,CAApC;;AACA,QAAMgB,cAAc,GAAIC,IAAD,IAAU;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,KAAL,CAAW,CAAX,CAAZ;AACA,QAAIC,IAAI,GAAGJ,IAAI,CAACG,KAAL,CAAW,CAAX,CAAX,CAF6B,CAG7B;;AACA,QAAIE,UAAU,GAAGf,QAAQ,CAACgB,OAAT,GAAmBC,GAAnB,CAAwB,UAASH,IAAI,CAACI,IAAK,EAA3C,CAAjB,CAJ6B,CAK7B;;AACAH,IAAAA,UAAU,CAACI,GAAX,CAAeL,IAAf,EAAqBM,IAArB,CAA0B,YAAY;AAClCL,MAAAA,UAAU,CAACM,cAAX,GAA4BD,IAA5B,CAAkCE,GAAD,IAAS;AACtCX,QAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ,EADsC,CAEtC;;AACA,cAAMC,OAAO,GAAG,EACZ,GAAGb,IADS;AAEZH,UAAAA,MAFY;AAGZM,UAAAA,KAAK,EAAES;AAHK,SAAhB;AAKAX,QAAAA,OAAO,CAACC,GAAR,CAAYW,OAAZ,EARsC,CAStC;;AACAC,QAAAA,KAAK,CAACD,OAAD,CAAL;AACApB,QAAAA,OAAO,CAACsB,IAAR,CAAa,iBAAb;AACA3B,QAAAA,IAAI,CAAC,WAAD,EAAc,2BAAd,EAA2C,SAA3C,CAAJ;AACH,OAbD;AAcH,KAfD;AAgBH,GAtBD;;AAuBA,QAAM4B,kBAAkB,GAAIC,OAAD,IAAa;AACpCnB,IAAAA,SAAS,CAACmB,OAAD,CAAT;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAYe,OAAZ;AACH,GAHD;;AAIA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ;AAKH,CApCD;;AAsCA1B,OAAO,CAAC2B,SAAR,GAAoB,EAApB;AAIA,eAAe3B,OAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport firebase from '../../../../firebase';\r\n\r\nconst AddBlog = props => {\r\n    let history = useHistory();\r\n    const { handleSubmit, register, errors } = useForm();\r\n    const [detail, setDetail] = useState(\"\");\r\n    const onHandleSubmit = (data) => {\r\n        console.log(data.image[0]);\r\n        let file = data.image[0];\r\n        // tạo reference chứa ảnh trên firesbase\r\n        let storageRef = firebase.storage().ref(`images/${file.name}`);\r\n        // đẩy ảnh lên đường dẫn trên\r\n        storageRef.put(file).then(function () {\r\n            storageRef.getDownloadURL().then((url) => {\r\n                console.log(url);\r\n                // Tạo object mới chứa toàn bộ thông tin từ input\r\n                const newData = {\r\n                    ...data,\r\n                    detail,\r\n                    image: url\r\n                }\r\n                console.log(newData);\r\n                // đẩy dữ liệu ra ngoài app.js thông qua props onAdd\r\n                onAdd(newData);\r\n                history.push(\"/admin/products\");\r\n                swal(\"Thông Báo\", \"Thêm Sản Phẩm Thành Công!\", \"success\");\r\n            })\r\n        });\r\n    }\r\n    const handleEditorChange = (content) => {\r\n        setDetail(content);\r\n        console.log(content);\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Thêm Blog</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nAddBlog.propTypes = {\r\n\r\n}\r\n\r\nexport default AddBlog\r\n"]},"metadata":{},"sourceType":"module"}