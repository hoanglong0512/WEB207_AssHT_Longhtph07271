{"version":3,"file":"react-query.mjs","sources":["../src/core/types.ts","../src/core/utils.ts","../src/core/config.ts","../src/core/queryInstance.ts","../src/core/query.ts","../src/core/queryCache.ts","../src/core/setFocusHandler.ts","../src/react/ReactQueryCacheProvider.tsx","../src/react/ReactQueryConfigProvider.tsx","../src/react/utils.ts","../src/react/useIsFetching.ts","../src/react/useMutation.ts","../src/react/useBaseQuery.ts","../src/react/useQueryArgs.ts","../src/react/useQuery.ts","../src/react/usePaginatedQuery.ts","../src/react/useInfiniteQuery.ts"],"sourcesContent":["import { Query, FetchMoreOptions } from './query'\n\nexport type QueryKeyObject =\n  | object\n  | { [key: string]: QueryKey }\n  | { [key: number]: QueryKey }\n\nexport type QueryKeyPrimitive = string | boolean | number | null | undefined\n\nexport type QueryKeyWithoutObjectAndArray = QueryKeyPrimitive\n\nexport type QueryKeyWithoutObject =\n  | QueryKeyWithoutObjectAndArray\n  | readonly QueryKey[]\n\nexport type QueryKeyWithoutArray =\n  | QueryKeyWithoutObjectAndArray\n  | QueryKeyObject\n\nexport type QueryKey = QueryKeyWithoutObject | QueryKeyObject\n\nexport type ArrayQueryKey = QueryKey[]\n\nexport type QueryFunction<TResult> = (\n  ...args: any[]\n) => TResult | Promise<TResult>\n\n// The tuple variants are only to infer types in the public API\nexport type TupleQueryKey = readonly [QueryKey, ...QueryKey[]]\n\nexport type TupleQueryFunction<TResult, TKey extends TupleQueryKey> = (\n  ...args: TKey\n) => TResult | Promise<TResult>\n\nexport type InitialDataFunction<TResult> = () => TResult | undefined\n\nexport type InitialStaleFunction = () => boolean\n\nexport type QueryKeySerializerFunction = (\n  queryKey: QueryKey\n) => [string, QueryKey[]]\n\nexport interface BaseQueryConfig<TResult, TError = unknown> {\n  /**\n   * Set this to `false` to disable automatic refetching when the query mounts or changes query keys.\n   * To refetch the query, use the `refetch` method returned from the `useQuery` instance.\n   */\n  enabled?: boolean | unknown\n  /**\n   * If `false`, failed queries will not retry by default.\n   * If `true`, failed queries will retry infinitely., failureCount: num\n   * If set to an integer number, e.g. 3, failed queries will retry until the failed query count meets that number.\n   * If set to a function `(failureCount, error) => boolean` failed queries will retry until the function returns false.\n   */\n  retry?: boolean | number | ((failureCount: number, error: TError) => boolean)\n  retryDelay?: number | ((retryAttempt: number) => number)\n  staleTime?: number\n  cacheTime?: number\n  refetchInterval?: false | number\n  refetchIntervalInBackground?: boolean\n  refetchOnWindowFocus?: boolean\n  refetchOnMount?: boolean\n  onSuccess?: (data: TResult) => void\n  onError?: (err: TError) => void\n  onSettled?: (data: TResult | undefined, error: TError | null) => void\n  isDataEqual?: (oldData: unknown, newData: unknown) => boolean\n  useErrorBoundary?: boolean\n  queryFn?: QueryFunction<TResult>\n  queryKeySerializerFn?: QueryKeySerializerFunction\n  queryFnParamsFilter?: (args: ArrayQueryKey) => ArrayQueryKey\n  suspense?: boolean\n  initialData?: TResult | InitialDataFunction<TResult>\n  initialStale?: boolean | InitialStaleFunction\n  infinite?: true\n}\n\nexport interface QueryConfig<TResult, TError = unknown>\n  extends BaseQueryConfig<TResult, TError> {}\n\nexport interface PaginatedQueryConfig<TResult, TError = unknown>\n  extends BaseQueryConfig<TResult, TError> {}\n\nexport interface InfiniteQueryConfig<TResult, TError = unknown>\n  extends BaseQueryConfig<TResult[], TError> {\n  getFetchMore: (lastPage: TResult, allPages: TResult[]) => unknown\n}\n\nexport type IsFetchingMoreValue = 'previous' | 'next' | false\n\nexport enum QueryStatus {\n  Idle = 'idle',\n  Loading = 'loading',\n  Error = 'error',\n  Success = 'success',\n}\n\nexport interface QueryResultBase<TResult, TError = unknown> {\n  status: QueryStatus\n  error: TError | null\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n  isIdle: boolean\n  isFetching: boolean\n  isStale: boolean\n  failureCount: number\n  query: Query<TResult, TError>\n  updatedAt: number\n  refetch: () => Promise<void>\n  clear: () => void\n}\n\nexport interface QueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult, TError> {\n  data: TResult | undefined\n}\n\nexport interface PaginatedQueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult, TError> {\n  resolvedData: TResult | undefined\n  latestData: TResult | undefined\n}\n\nexport interface InfiniteQueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult[], TError> {\n  data: TResult[] | undefined\n  isFetchingMore?: IsFetchingMoreValue\n  canFetchMore: boolean | undefined\n  fetchMore: (\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions\n  ) => Promise<TResult[] | undefined> | undefined\n}\n\nexport interface MutateConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> {\n  onSuccess?: (data: TResult, variables: TVariables) => Promise<void> | void\n  onError?: (\n    error: TError,\n    variables: TVariables,\n    snapshotValue: TSnapshot\n  ) => Promise<void> | void\n  onSettled?: (\n    data: undefined | TResult,\n    error: TError | null,\n    variables: TVariables,\n    snapshotValue?: TSnapshot\n  ) => Promise<void> | void\n  throwOnError?: boolean\n}\n\nexport interface MutationConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> extends MutateConfig<TResult, TError, TVariables, TSnapshot> {\n  onMutate?: (variables: TVariables) => Promise<TSnapshot> | TSnapshot\n  useErrorBoundary?: boolean\n  suspense?: boolean\n}\n\nexport type MutationFunction<TResult, TVariables = unknown> = (\n  variables: TVariables\n) => Promise<TResult>\n\nexport type MutateFunction<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> = (\n  variables?: TVariables,\n  config?: MutateConfig<TResult, TError, TVariables, TSnapshot>\n) => Promise<TResult | undefined>\n\nexport type MutationResultPair<TResult, TError, TVariables, TSnapshot> = [\n  MutateFunction<TResult, TError, TVariables, TSnapshot>,\n  MutationResult<TResult, TError>\n]\n\nexport interface MutationResult<TResult, TError = unknown> {\n  status: QueryStatus\n  data: TResult | undefined\n  error: TError | null\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n  reset: () => void\n}\n\nexport interface ReactQueryConfig<TResult = unknown, TError = unknown> {\n  queries?: ReactQueryQueriesConfig<TResult, TError>\n  shared?: ReactQuerySharedConfig\n  mutations?: ReactQueryMutationsConfig<TResult, TError>\n}\n\nexport interface ReactQuerySharedConfig {\n  suspense?: boolean\n}\n\nexport interface ReactQueryQueriesConfig<TResult, TError>\n  extends BaseQueryConfig<TResult, TError> {}\n\nexport interface ReactQueryMutationsConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> extends MutationConfig<TResult, TError, TVariables, TSnapshot> {}\n","import { QueryConfig, QueryStatus, QueryKey, QueryFunction } from './types'\n\n// TYPES\n\nexport type DataUpdateFunction<TInput, TOutput> = (input: TInput) => TOutput\n\nexport type Updater<TInput, TOutput> =\n  | TOutput\n  | DataUpdateFunction<TInput, TOutput>\n\ntype ConsoleFunction = (...args: any[]) => void\n\nexport interface ConsoleObject {\n  log: ConsoleFunction\n  warn: ConsoleFunction\n  error: ConsoleFunction\n}\n\n// UTILS\n\nlet _uid = 0\nexport const uid = () => _uid++\nexport const cancelledError = {}\nexport const globalStateListeners = []\nexport const isServer = typeof window === 'undefined'\nexport function noop(): void {\n  return void 0\n}\nexport function identity<T>(d: T): T {\n  return d\n}\nexport let Console: ConsoleObject = console || {\n  error: noop,\n  warn: noop,\n  log: noop,\n}\n\nexport function setConsole(c: ConsoleObject) {\n  Console = c\n}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as DataUpdateFunction<TInput, TOutput>)(input)\n    : updater\n}\n\nfunction stableStringifyReplacer(_key: string, value: any): unknown {\n  if (typeof value === 'function') {\n    throw new Error('Cannot stringify non JSON value')\n  }\n\n  if (isObject(value)) {\n    return Object.keys(value)\n      .sort()\n      .reduce((result, key) => {\n        result[key] = value[key]\n        return result\n      }, {} as any)\n  }\n\n  return value\n}\n\nexport function stableStringify(value: any): string {\n  return JSON.stringify(value, stableStringifyReplacer)\n}\n\nexport function isObject(a: unknown): boolean {\n  return a && typeof a === 'object' && !Array.isArray(a)\n}\n\nexport function deepIncludes(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (typeof a === 'object') {\n    return !Object.keys(b).some(key => !deepIncludes(a[key], b[key]))\n  }\n\n  return false\n}\n\nexport function isDocumentVisible(): boolean {\n  const visibilityState = document?.visibilityState as any\n\n  return [undefined, 'visible', 'prerender'].includes(visibilityState)\n}\n\nexport function isOnline(): boolean {\n  return navigator.onLine === undefined || navigator.onLine\n}\n\nexport function getQueryArgs<TResult, TError, TOptions = undefined>(\n  args: any[]\n): [QueryKey, QueryConfig<TResult, TError>, TOptions] {\n  let queryKey: QueryKey\n  let queryFn: QueryFunction<TResult> | undefined\n  let config: QueryConfig<TResult, TError> | undefined\n  let options: TOptions\n\n  if (isObject(args[0])) {\n    queryKey = args[0].queryKey\n    queryFn = args[0].queryFn\n    config = args[0].config\n    options = args[1]\n  } else if (isObject(args[1])) {\n    queryKey = args[0]\n    config = args[1]\n    options = args[2]\n  } else {\n    queryKey = args[0]\n    queryFn = args[1]\n    config = args[2]\n    options = args[3]\n  }\n\n  config = config || {}\n\n  if (queryFn) {\n    config = { ...config, queryFn }\n  }\n\n  return [queryKey, config, options]\n}\n\nexport function deepEqual(a: any, b: any): boolean {\n  return equal(a, b, true)\n}\n\nexport function shallowEqual(a: any, b: any): boolean {\n  return equal(a, b, false)\n}\n\n// This deep-equal is directly based on https://github.com/epoberezkin/fast-deep-equal.\n// The parts for comparing any non-JSON-supported values has been removed\nfunction equal(a: any, b: any, deep: boolean, depth = 0): boolean {\n  if (a === b) return true\n\n  if (\n    (deep || !depth) &&\n    a &&\n    b &&\n    typeof a == 'object' &&\n    typeof b == 'object'\n  ) {\n    let length, i\n    if (Array.isArray(a)) {\n      length = a.length\n      // eslint-disable-next-line eqeqeq\n      if (length != b.length) return false\n      for (i = length; i-- !== 0; )\n        if (!equal(a[i], b[i], deep, depth + 1)) return false\n      return true\n    }\n\n    if (a.valueOf !== Object.prototype.valueOf)\n      return a.valueOf() === b.valueOf()\n\n    const keys = Object.keys(a)\n    length = keys.length\n    if (length !== Object.keys(b).length) return false\n\n    for (i = length; i-- !== 0; )\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false\n\n    for (i = length; i-- !== 0; ) {\n      const key = keys[i]\n\n      if (!equal(a[key], b[key], deep, depth + 1)) return false\n    }\n\n    return true\n  }\n\n  // true if both NaN, false otherwise\n  // eslint-disable-next-line no-self-compare\n  return a !== a && b !== b\n}\n\nexport function getStatusProps<T extends QueryStatus>(status: T) {\n  return {\n    status,\n    isLoading: status === QueryStatus.Loading,\n    isSuccess: status === QueryStatus.Success,\n    isError: status === QueryStatus.Error,\n    isIdle: status === QueryStatus.Idle,\n  }\n}\n","import { stableStringify, identity, deepEqual } from './utils'\nimport {\n  ArrayQueryKey,\n  QueryKey,\n  QueryKeySerializerFunction,\n  ReactQueryConfig,\n} from './types'\n\n// TYPES\n\nexport interface ReactQueryConfigRef {\n  current: ReactQueryConfig\n}\n\n// CONFIG\n\nexport const defaultQueryKeySerializerFn: QueryKeySerializerFunction = (\n  queryKey: QueryKey\n): [string, ArrayQueryKey] => {\n  try {\n    let arrayQueryKey: ArrayQueryKey = Array.isArray(queryKey)\n      ? queryKey\n      : [queryKey]\n    const queryHash = stableStringify(arrayQueryKey)\n    arrayQueryKey = JSON.parse(queryHash)\n    return [queryHash, arrayQueryKey]\n  } catch {\n    throw new Error('A valid query key is required!')\n  }\n}\n\nexport const DEFAULT_CONFIG: ReactQueryConfig = {\n  shared: {\n    suspense: false,\n  },\n  queries: {\n    queryKeySerializerFn: defaultQueryKeySerializerFn,\n    enabled: true,\n    retry: 3,\n    retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000),\n    staleTime: 0,\n    cacheTime: 5 * 60 * 1000,\n    refetchOnWindowFocus: true,\n    refetchInterval: false,\n    queryFnParamsFilter: identity,\n    refetchOnMount: true,\n    isDataEqual: deepEqual,\n    useErrorBoundary: false,\n  },\n  mutations: {\n    throwOnError: false,\n    useErrorBoundary: false,\n  },\n}\n\nexport const defaultConfigRef: ReactQueryConfigRef = {\n  current: DEFAULT_CONFIG,\n}\n","import { uid, isServer, isDocumentVisible, Console } from './utils'\nimport { Query, QueryState } from './query'\nimport { BaseQueryConfig } from './types'\n\n// TYPES\n\nexport type OnStateUpdateFunction<TResult, TError> = (\n  state: QueryState<TResult, TError>\n) => void\n\n// CLASS\n\nexport class QueryInstance<TResult, TError> {\n  id: number\n  config: BaseQueryConfig<TResult, TError>\n  onStateUpdate?: OnStateUpdateFunction<TResult, TError>\n\n  private query: Query<TResult, TError>\n  private refetchIntervalId?: number\n\n  constructor(\n    query: Query<TResult, TError>,\n    onStateUpdate?: OnStateUpdateFunction<TResult, TError>\n  ) {\n    this.id = uid()\n    this.onStateUpdate = onStateUpdate\n    this.query = query\n    this.config = {}\n  }\n\n  clearInterval(): void {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId)\n      this.refetchIntervalId = undefined\n    }\n  }\n\n  updateConfig(config: BaseQueryConfig<TResult, TError>): void {\n    const oldConfig = this.config\n\n    // Update the config\n    this.config = config\n\n    if (!isServer) {\n      if (oldConfig?.refetchInterval === config.refetchInterval) {\n        return\n      }\n\n      this.query.clearIntervals()\n\n      const minInterval = Math.min(\n        ...this.query.instances.map(d => d.config.refetchInterval || Infinity)\n      )\n\n      if (\n        !this.refetchIntervalId &&\n        minInterval > 0 &&\n        minInterval < Infinity\n      ) {\n        this.refetchIntervalId = setInterval(() => {\n          if (\n            this.query.instances.some(_ => this.config.enabled) &&\n            (isDocumentVisible() ||\n              this.query.instances.some(\n                _ => this.config.refetchIntervalInBackground\n              ))\n          ) {\n            this.query.fetch()\n          }\n        }, minInterval)\n      }\n    }\n  }\n\n  async run(): Promise<void> {\n    try {\n      // Perform the refetch for this query if necessary\n      if (\n        this.query.config.enabled && // Don't auto refetch if disabled\n        !this.query.wasSuspended && // Don't double refetch for suspense\n        this.query.state.isStale && // Only refetch if stale\n        (this.query.config.refetchOnMount || this.query.instances.length === 1)\n      ) {\n        await this.query.fetch()\n      }\n\n      this.query.wasSuspended = false\n    } catch (error) {\n      Console.error(error)\n    }\n  }\n\n  unsubscribe(): void {\n    this.query.instances = this.query.instances.filter(d => d.id !== this.id)\n\n    if (!this.query.instances.length) {\n      this.clearInterval()\n      this.query.cancel()\n\n      if (!isServer) {\n        // Schedule garbage collection\n        this.query.scheduleGarbageCollection()\n      }\n    }\n  }\n}\n","import {\n  isServer,\n  functionalUpdate,\n  cancelledError,\n  isDocumentVisible,\n  noop,\n  Console,\n  getStatusProps,\n  shallowEqual,\n  Updater,\n} from './utils'\nimport { QueryInstance, OnStateUpdateFunction } from './queryInstance'\nimport {\n  ArrayQueryKey,\n  InfiniteQueryConfig,\n  InitialDataFunction,\n  IsFetchingMoreValue,\n  QueryConfig,\n  QueryFunction,\n  QueryStatus,\n} from './types'\nimport { QueryCache } from './queryCache'\n\n// TYPES\n\ninterface QueryInitConfig<TResult, TError> {\n  queryCache: QueryCache\n  queryKey: ArrayQueryKey\n  queryHash: string\n  config: QueryConfig<TResult, TError>\n  notifyGlobalListeners: (query: Query<TResult, TError>) => void\n}\n\nexport interface QueryState<TResult, TError> {\n  canFetchMore?: boolean\n  data?: TResult\n  error: TError | null\n  failureCount: number\n  isError: boolean\n  isFetching: boolean\n  isFetchingMore?: IsFetchingMoreValue\n  isIdle: boolean\n  isLoading: boolean\n  isStale: boolean\n  isSuccess: boolean\n  markedForGarbageCollection: boolean\n  status: QueryStatus\n  throwInErrorBoundary?: boolean\n  updatedAt: number\n}\n\ninterface FetchOptions {\n  fetchMore?: FetchMoreOptions\n}\n\nexport interface FetchMoreOptions {\n  fetchMoreVariable?: unknown\n  previous: boolean\n}\n\nenum ActionType {\n  Failed = 'Failed',\n  MarkStale = 'MarkStale',\n  MarkGC = 'MarkGC',\n  Fetch = 'Fetch',\n  Success = 'Success',\n  Error = 'Error',\n  SetState = 'SetState',\n}\n\ninterface FailedAction {\n  type: ActionType.Failed\n}\n\ninterface MarkStaleAction {\n  type: ActionType.MarkStale\n}\n\ninterface MarkGCAction {\n  type: ActionType.MarkGC\n}\n\ninterface FetchAction {\n  type: ActionType.Fetch\n}\n\ninterface SuccessAction<TResult> {\n  type: ActionType.Success\n  updater: Updater<TResult | undefined, TResult>\n  isStale: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: ActionType.Error\n  cancelled: boolean\n  error: TError\n}\n\ninterface SetStateAction<TResult, TError> {\n  type: ActionType.SetState\n  updater: Updater<QueryState<TResult, TError>, QueryState<TResult, TError>>\n}\n\ntype Action<TResult, TError> =\n  | ErrorAction<TError>\n  | FailedAction\n  | FetchAction\n  | MarkGCAction\n  | MarkStaleAction\n  | SetStateAction<TResult, TError>\n  | SuccessAction<TResult>\n\n// CLASS\n\nexport class Query<TResult, TError> {\n  queryCache: QueryCache\n  queryKey: ArrayQueryKey\n  queryHash: string\n  config: QueryConfig<TResult, TError>\n  instances: QueryInstance<TResult, TError>[]\n  state: QueryState<TResult, TError>\n  fallbackInstance?: QueryInstance<TResult, TError>\n  wasSuspended?: boolean\n  shouldContinueRetryOnFocus?: boolean\n  promise?: Promise<TResult | undefined>\n\n  private fetchMoreVariable?: unknown\n  private pageVariables?: ArrayQueryKey[]\n  private cacheTimeout?: number\n  private retryTimeout?: number\n  private staleTimeout?: number\n  private cancelPromises?: () => void\n  private cancelled?: typeof cancelledError | null\n  private notifyGlobalListeners: (query: Query<TResult, TError>) => void\n\n  constructor(init: QueryInitConfig<TResult, TError>) {\n    this.config = init.config\n    this.queryCache = init.queryCache\n    this.queryKey = init.queryKey\n    this.queryHash = init.queryHash\n    this.notifyGlobalListeners = init.notifyGlobalListeners\n    this.instances = []\n    this.state = getDefaultState(init.config)\n\n    if (init.config.infinite) {\n      const infiniteConfig = init.config as InfiniteQueryConfig<TResult, TError>\n      const infiniteData = (this.state.data as unknown) as TResult[] | undefined\n\n      if (\n        typeof infiniteData !== 'undefined' &&\n        typeof this.state.canFetchMore === 'undefined'\n      ) {\n        this.fetchMoreVariable = infiniteConfig.getFetchMore(\n          infiniteData[infiniteData.length - 1],\n          infiniteData\n        )\n        this.state.canFetchMore = this.fetchMoreVariable !== false\n      }\n\n      // Here we seed the pageVariabes for the query\n      if (!this.pageVariables) {\n        this.pageVariables = [[...this.queryKey]]\n      }\n    }\n  }\n\n  private dispatch(action: Action<TResult, TError>): void {\n    const newState = queryReducer(this.state, action)\n\n    // Only update state if something has changed\n    if (!shallowEqual(this.state, newState)) {\n      this.state = newState\n      this.instances.forEach(d => d.onStateUpdate?.(this.state))\n      this.notifyGlobalListeners(this)\n    }\n  }\n\n  scheduleStaleTimeout(): void {\n    if (isServer) {\n      return\n    }\n\n    this.clearStaleTimeout()\n\n    if (this.state.isStale) {\n      return\n    }\n\n    if (this.config.staleTime === Infinity) {\n      return\n    }\n\n    this.staleTimeout = setTimeout(() => {\n      this.invalidate()\n    }, this.config.staleTime)\n  }\n\n  invalidate(): void {\n    this.clearStaleTimeout()\n\n    if (!this.queryCache.queries[this.queryHash]) {\n      return\n    }\n\n    if (this.state.isStale) {\n      return\n    }\n\n    this.dispatch({ type: ActionType.MarkStale })\n  }\n\n  scheduleGarbageCollection(): void {\n    this.clearCacheTimeout()\n\n    if (!this.queryCache.queries[this.queryHash]) {\n      return\n    }\n\n    if (this.config.cacheTime === Infinity) {\n      return\n    }\n\n    this.dispatch({ type: ActionType.MarkGC })\n\n    this.cacheTimeout = setTimeout(\n      () => {\n        this.queryCache.removeQueries(\n          d =>\n            d.state.markedForGarbageCollection && d.queryHash === this.queryHash\n        )\n      },\n      typeof this.state.data === 'undefined' &&\n        this.state.status !== QueryStatus.Error\n        ? 0\n        : this.config.cacheTime\n    )\n  }\n\n  async refetch(): Promise<void> {\n    try {\n      await this.fetch()\n    } catch (error) {\n      Console.error(error)\n    }\n  }\n\n  heal(): void {\n    // Stop the query from being garbage collected\n    this.clearCacheTimeout()\n\n    // Mark the query as not cancelled\n    this.cancelled = null\n  }\n\n  cancel(): void {\n    this.cancelled = cancelledError\n\n    if (this.cancelPromises) {\n      this.cancelPromises()\n    }\n\n    delete this.promise\n  }\n\n  clearIntervals(): void {\n    this.instances.forEach(instance => {\n      instance.clearInterval()\n    })\n  }\n\n  private clearStaleTimeout() {\n    if (this.staleTimeout) {\n      clearTimeout(this.staleTimeout)\n      this.staleTimeout = undefined\n    }\n  }\n\n  private clearCacheTimeout() {\n    if (this.cacheTimeout) {\n      clearTimeout(this.cacheTimeout)\n      this.cacheTimeout = undefined\n    }\n  }\n\n  private clearRetryTimeout() {\n    if (this.retryTimeout) {\n      clearTimeout(this.retryTimeout)\n      this.retryTimeout = undefined\n    }\n  }\n\n  private setState(\n    updater: Updater<QueryState<TResult, TError>, QueryState<TResult, TError>>\n  ): void {\n    this.dispatch({ type: ActionType.SetState, updater })\n  }\n\n  setData(updater: Updater<TResult | undefined, TResult>): void {\n    const isStale = this.config.staleTime === 0\n    // Set data and mark it as cached\n    this.dispatch({\n      type: ActionType.Success,\n      updater,\n      isStale,\n    })\n\n    if (!isStale) {\n      // Schedule a fresh invalidation!\n      this.scheduleStaleTimeout()\n    }\n  }\n\n  clear(): void {\n    this.clearStaleTimeout()\n    this.clearCacheTimeout()\n    this.clearRetryTimeout()\n    this.clearIntervals()\n    this.cancel()\n    delete this.queryCache.queries[this.queryHash]\n    this.notifyGlobalListeners(this)\n  }\n\n  subscribe(\n    onStateUpdate?: OnStateUpdateFunction<TResult, TError>\n  ): QueryInstance<TResult, TError> {\n    const instance = new QueryInstance(this, onStateUpdate)\n    this.instances.push(instance)\n    this.heal()\n    return instance\n  }\n\n  // Set up the core fetcher function\n  private async tryFetchData(\n    fn: QueryFunction<TResult>,\n    args: ArrayQueryKey\n  ): Promise<TResult> {\n    try {\n      // Perform the query\n      const promiseOrValue = fn(...this.config.queryFnParamsFilter!(args))\n\n      this.cancelPromises = () => (promiseOrValue as any)?.cancel?.()\n\n      const data = await promiseOrValue\n      delete this.shouldContinueRetryOnFocus\n\n      delete this.cancelPromises\n      if (this.cancelled) throw this.cancelled\n\n      return data\n    } catch (error) {\n      delete this.cancelPromises\n      if (this.cancelled) throw this.cancelled\n\n      // Do we need to retry the request?\n      if (\n        this.config.retry === true ||\n        this.state.failureCount < this.config.retry! ||\n        (typeof this.config.retry === 'function' &&\n          this.config.retry(this.state.failureCount, error))\n      ) {\n        // If we retry, increase the failureCount\n        this.dispatch({ type: ActionType.Failed })\n\n        // Only retry if the document is visible\n        if (!isDocumentVisible()) {\n          // set this flag to continue retries on focus\n          this.shouldContinueRetryOnFocus = true\n          // Resolve a\n          return new Promise(noop)\n        }\n\n        delete this.shouldContinueRetryOnFocus\n\n        // Determine the retryDelay\n        const delay = functionalUpdate(\n          this.config.retryDelay,\n          this.state.failureCount\n        )\n\n        // Return a new promise with the retry\n        return await new Promise((resolve, reject) => {\n          // Keep track of the retry timeout\n          this.retryTimeout = setTimeout(async () => {\n            if (this.cancelled) return reject(this.cancelled)\n\n            try {\n              const data = await this.tryFetchData(fn, args)\n              if (this.cancelled) return reject(this.cancelled)\n              resolve(data)\n            } catch (error) {\n              if (this.cancelled) return reject(this.cancelled)\n              reject(error)\n            }\n          }, delay)\n        })\n      }\n\n      throw error\n    }\n  }\n\n  async fetch(options?: FetchOptions): Promise<TResult | undefined> {\n    let queryFn = this.config.queryFn\n\n    if (!queryFn) {\n      return\n    }\n\n    // If we are already fetching, return current promise\n    if (this.promise) {\n      return this.promise\n    }\n\n    if (this.config.infinite) {\n      const infiniteConfig = this.config as InfiniteQueryConfig<TResult, TError>\n      const infiniteData = (this.state.data as unknown) as TResult[] | undefined\n      const fetchMore = options?.fetchMore\n\n      const originalQueryFn = queryFn\n\n      queryFn = async () => {\n        const data: TResult[] = []\n        const pageVariables = this.pageVariables ? [...this.pageVariables] : []\n        const rebuiltPageVariables: ArrayQueryKey[] = []\n\n        do {\n          const args = pageVariables.shift()!\n\n          if (!data.length) {\n            // the first page query doesn't need to be rebuilt\n            data.push(await originalQueryFn(...args))\n            rebuiltPageVariables.push(args)\n          } else {\n            // get an up-to-date cursor based on the previous data set\n\n            const nextCursor = infiniteConfig.getFetchMore(\n              data[data.length - 1],\n              data\n            )\n\n            // break early if there's no next cursor\n            // otherwise we'll start from the beginning\n            // which will cause unwanted duplication\n            if (!nextCursor) {\n              break\n            }\n\n            const pageArgs = [\n              // remove the last argument (the previously saved cursor)\n              ...args.slice(0, -1),\n              nextCursor,\n            ] as ArrayQueryKey\n\n            data.push(await originalQueryFn(...pageArgs))\n            rebuiltPageVariables.push(pageArgs)\n          }\n        } while (pageVariables.length)\n\n        this.fetchMoreVariable = infiniteConfig.getFetchMore(\n          data[data.length - 1],\n          data\n        )\n        this.state.canFetchMore = this.fetchMoreVariable !== false\n        this.pageVariables = rebuiltPageVariables\n\n        return (data as unknown) as TResult\n      }\n\n      if (fetchMore) {\n        queryFn = async (...args: ArrayQueryKey) => {\n          try {\n            const { fetchMoreVariable, previous } = fetchMore\n\n            this.setState(old => ({\n              ...old,\n              isFetchingMore: previous ? 'previous' : 'next',\n            }))\n\n            const newArgs = [...args, fetchMoreVariable] as ArrayQueryKey\n\n            if (this.pageVariables) {\n              this.pageVariables[previous ? 'unshift' : 'push'](newArgs)\n            } else {\n              this.pageVariables = [newArgs]\n            }\n\n            const newData = await originalQueryFn(...newArgs)\n\n            let data\n\n            if (!infiniteData) {\n              data = [newData]\n            } else if (previous) {\n              data = [newData, ...infiniteData]\n            } else {\n              data = [...infiniteData, newData]\n            }\n\n            this.fetchMoreVariable = infiniteConfig.getFetchMore(newData, data)\n            this.state.canFetchMore = this.fetchMoreVariable !== false\n\n            return (data as unknown) as TResult\n          } finally {\n            this.setState(old => ({\n              ...old,\n              isFetchingMore: false,\n            }))\n          }\n        }\n      }\n    }\n\n    this.promise = (async () => {\n      // If there are any retries pending for this query, kill them\n      this.cancelled = null\n\n      const getCallbackInstances = () => {\n        const callbackInstances = [...this.instances]\n\n        if (this.wasSuspended && this.fallbackInstance) {\n          callbackInstances.unshift(this.fallbackInstance)\n        }\n        return callbackInstances\n      }\n\n      try {\n        // Set up the query refreshing state\n        this.dispatch({ type: ActionType.Fetch })\n\n        // Try to get the data\n        const data = await this.tryFetchData(queryFn!, this.queryKey)\n\n        this.setData(old => (this.config.isDataEqual!(old, data) ? old! : data))\n\n        getCallbackInstances().forEach(instance => {\n          instance.config.onSuccess?.(this.state.data!)\n        })\n\n        getCallbackInstances().forEach(instance =>\n          instance.config.onSettled?.(this.state.data, null)\n        )\n\n        delete this.promise\n\n        return data\n      } catch (error) {\n        this.dispatch({\n          type: ActionType.Error,\n          cancelled: error === this.cancelled,\n          error,\n        })\n\n        delete this.promise\n\n        if (error !== this.cancelled) {\n          getCallbackInstances().forEach(instance =>\n            instance.config.onError?.(error)\n          )\n\n          getCallbackInstances().forEach(instance =>\n            instance.config.onSettled?.(undefined, error)\n          )\n\n          throw error\n        }\n\n        return\n      }\n    })()\n\n    return this.promise\n  }\n\n  fetchMore(\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions\n  ): Promise<TResult | undefined> {\n    return this.fetch({\n      fetchMore: {\n        fetchMoreVariable: fetchMoreVariable ?? this.fetchMoreVariable,\n        previous: options?.previous || false,\n      },\n    })\n  }\n}\n\nfunction getDefaultState<TResult, TError>(\n  config: QueryConfig<TResult, TError>\n): QueryState<TResult, TError> {\n  const initialData =\n    typeof config.initialData === 'function'\n      ? (config.initialData as InitialDataFunction<TResult>)()\n      : config.initialData\n\n  const hasInitialData = typeof initialData !== 'undefined'\n\n  const isStale =\n    !config.enabled ||\n    (typeof config.initialStale === 'function'\n      ? config.initialStale()\n      : config.initialStale ?? !hasInitialData)\n\n  const initialStatus = hasInitialData\n    ? QueryStatus.Success\n    : config.enabled\n    ? QueryStatus.Loading\n    : QueryStatus.Idle\n\n  return {\n    ...getStatusProps(initialStatus),\n    error: null,\n    isFetching: initialStatus === QueryStatus.Loading,\n    failureCount: 0,\n    isStale,\n    markedForGarbageCollection: false,\n    data: initialData,\n    updatedAt: hasInitialData ? Date.now() : 0,\n  }\n}\n\nexport function queryReducer<TResult, TError>(\n  state: QueryState<TResult, TError>,\n  action: Action<TResult, TError>\n): QueryState<TResult, TError> {\n  switch (action.type) {\n    case ActionType.Failed:\n      return {\n        ...state,\n        failureCount: state.failureCount + 1,\n      }\n    case ActionType.MarkStale:\n      return {\n        ...state,\n        isStale: true,\n      }\n    case ActionType.MarkGC: {\n      return {\n        ...state,\n        markedForGarbageCollection: true,\n      }\n    }\n    case ActionType.Fetch:\n      const status =\n        typeof state.data !== 'undefined'\n          ? QueryStatus.Success\n          : QueryStatus.Loading\n      return {\n        ...state,\n        ...getStatusProps(status),\n        isFetching: true,\n        failureCount: 0,\n      }\n    case ActionType.Success:\n      return {\n        ...state,\n        ...getStatusProps(QueryStatus.Success),\n        data: functionalUpdate(action.updater, state.data),\n        error: null,\n        isStale: action.isStale,\n        isFetching: false,\n        updatedAt: Date.now(),\n        failureCount: 0,\n      }\n    case ActionType.Error:\n      return {\n        ...state,\n        failureCount: state.failureCount + 1,\n        isFetching: false,\n        isStale: true,\n        ...(!action.cancelled && {\n          ...getStatusProps(QueryStatus.Error),\n          error: action.error,\n          throwInErrorBoundary: true,\n        }),\n      }\n    case ActionType.SetState:\n      return functionalUpdate(action.updater, state)\n    default:\n      return state\n  }\n}\n","import {\n  isServer,\n  getQueryArgs,\n  deepIncludes,\n  Console,\n  isObject,\n  Updater,\n} from './utils'\nimport { defaultConfigRef, ReactQueryConfigRef } from './config'\nimport { Query } from './query'\nimport {\n  QueryConfig,\n  QueryKey,\n  QueryKeyWithoutObject,\n  ReactQueryConfig,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObjectAndArray,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from './types'\nimport { QueryInstance } from './queryInstance'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  frozen?: boolean\n  defaultConfig?: ReactQueryConfig\n}\n\ninterface ClearOptions {\n  notify?: boolean\n}\n\ninterface PrefetchQueryOptions {\n  force?: boolean\n  throwOnError?: boolean\n}\n\ninterface InvalidateQueriesOptions extends QueryPredicateOptions {\n  refetchActive?: boolean\n  refetchInactive?: boolean\n  throwOnError?: boolean\n}\n\ninterface QueryPredicateOptions {\n  exact?: boolean\n}\n\ntype QueryPredicate = QueryKey | QueryPredicateFn | true\n\ntype QueryPredicateFn = (query: Query<unknown, unknown>) => boolean\n\nexport interface PrefetchQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, TKey>\n  config?: QueryConfig<TResult, TError>\n  options?: PrefetchQueryOptions\n}\n\ninterface QueryHashMap {\n  [hash: string]: Query<any, any>\n}\n\ntype QueryCacheListener = (\n  cache: QueryCache,\n  query?: Query<unknown, unknown>\n) => void\n\n// CLASS\n\nexport class QueryCache {\n  queries: QueryHashMap\n  isFetching: number\n\n  private config: QueryCacheConfig\n  private configRef: ReactQueryConfigRef\n  private globalListeners: QueryCacheListener[]\n\n  constructor(config?: QueryCacheConfig) {\n    this.config = config || {}\n\n    // A frozen cache does not add new queries to the cache\n    this.globalListeners = []\n\n    this.configRef = this.config.defaultConfig\n      ? {\n          current: {\n            shared: {\n              ...defaultConfigRef.current.shared,\n              ...this.config.defaultConfig.shared,\n            },\n            queries: {\n              ...defaultConfigRef.current.queries,\n              ...this.config.defaultConfig.queries,\n            },\n            mutations: {\n              ...defaultConfigRef.current.mutations,\n              ...this.config.defaultConfig.mutations,\n            },\n          },\n        }\n      : defaultConfigRef\n\n    this.queries = {}\n    this.isFetching = 0\n  }\n\n  private notifyGlobalListeners(query?: Query<any, any>) {\n    this.isFetching = Object.values(this.queries).reduce(\n      (acc, query) => (query.state.isFetching ? acc + 1 : acc),\n      0\n    )\n\n    this.globalListeners.forEach(d => d(queryCache, query))\n  }\n\n  subscribe(listener: QueryCacheListener): () => void {\n    this.globalListeners.push(listener)\n    return () => {\n      this.globalListeners.splice(this.globalListeners.indexOf(listener), 1)\n    }\n  }\n\n  clear(options?: ClearOptions): void {\n    Object.values(this.queries).forEach(query => query.clear())\n    this.queries = {}\n    if (options?.notify) {\n      this.notifyGlobalListeners()\n    }\n  }\n\n  getQueries<TResult = unknown, TError = unknown>(\n    predicate: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): Query<TResult, TError>[] {\n    if (predicate === true) {\n      return Object.values(this.queries)\n    }\n\n    let predicateFn: QueryPredicateFn\n\n    if (typeof predicate === 'function') {\n      predicateFn = predicate as QueryPredicateFn\n    } else {\n      const [queryHash, queryKey] = this.configRef.current.queries!\n        .queryKeySerializerFn!(predicate)\n\n      predicateFn = d =>\n        options?.exact\n          ? d.queryHash === queryHash\n          : deepIncludes(d.queryKey, queryKey)\n    }\n\n    return Object.values(this.queries).filter(predicateFn)\n  }\n\n  getQuery<TResult, TError = unknown>(\n    predicate: QueryPredicate\n  ): Query<TResult, TError> | undefined {\n    return this.getQueries<TResult, TError>(predicate, { exact: true })[0]\n  }\n\n  getQueryData<TResult>(predicate: QueryPredicate): TResult | undefined {\n    return this.getQuery<TResult>(predicate)?.state.data\n  }\n\n  removeQueries(\n    predicate: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): void {\n    this.getQueries(predicate, options).forEach(query => query.clear())\n  }\n\n  cancelQueries(\n    predicate: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): void {\n    this.getQueries(predicate, options).forEach(query => query.cancel())\n  }\n\n  async invalidateQueries(\n    predicate: QueryPredicate,\n    options?: InvalidateQueriesOptions\n  ): Promise<void> {\n    const { refetchActive = true, refetchInactive = false, throwOnError } =\n      options || {}\n\n    try {\n      await Promise.all(\n        this.getQueries(predicate, options).map(query => {\n          if (query.instances.length) {\n            if (\n              refetchActive &&\n              query.instances.some(instance => instance.config.enabled)\n            ) {\n              return query.fetch()\n            }\n          } else {\n            if (refetchInactive) {\n              return query.fetch()\n            }\n          }\n\n          return query.invalidate()\n        })\n      )\n    } catch (err) {\n      if (throwOnError) {\n        throw err\n      }\n    }\n  }\n\n  resetErrorBoundaries(): void {\n    this.getQueries(true).forEach(query => {\n      query.state.throwInErrorBoundary = false\n    })\n  }\n\n  buildQuery<TResult, TError = unknown>(\n    userQueryKey: QueryKey,\n    queryConfig: QueryConfig<TResult, TError> = {}\n  ): Query<TResult, TError> {\n    const config = {\n      ...this.configRef.current.shared!,\n      ...this.configRef.current.queries!,\n      ...queryConfig,\n    } as QueryConfig<TResult, TError>\n\n    const [queryHash, queryKey] = config.queryKeySerializerFn!(userQueryKey)\n\n    let query\n\n    if (this.queries[queryHash]) {\n      query = this.queries[queryHash] as Query<TResult, TError>\n      query.config = config\n    }\n\n    if (!query) {\n      query = new Query<TResult, TError>({\n        queryCache,\n        queryKey,\n        queryHash,\n        config,\n        notifyGlobalListeners: query => {\n          this.notifyGlobalListeners(query)\n        },\n      })\n\n      // If the query started with data, schedule\n      // a stale timeout\n      if (!isServer && query.state.data) {\n        query.scheduleStaleTimeout()\n\n        // Simulate a query healing process\n        query.heal()\n        // Schedule for garbage collection in case\n        // nothing subscribes to this query\n        query.scheduleGarbageCollection()\n      }\n\n      if (!this.config.frozen) {\n        this.queries[queryHash] = query\n\n        if (isServer) {\n          this.notifyGlobalListeners()\n        } else {\n          // Here, we setTimeout so as to not trigger\n          // any setState's in parent components in the\n          // middle of the render phase.\n          setTimeout(() => {\n            this.notifyGlobalListeners()\n          })\n        }\n      }\n    }\n\n    query.fallbackInstance = {\n      config: {\n        onSuccess: query.config.onSuccess,\n        onError: query.config.onError,\n        onSettled: query.config.onSettled,\n      },\n    } as QueryInstance<TResult, TError>\n\n    return query\n  }\n\n  // Parameter syntax with optional prefetch options\n  async prefetchQuery<TResult, TError, TKey extends QueryKeyWithoutObject>(\n    queryKey: TKey,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with config and optional prefetch options\n  async prefetchQuery<TResult, TError, TKey extends QueryKeyWithoutObject>(\n    queryKey: TKey,\n    config: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with query function and optional prefetch options\n  async prefetchQuery<\n    TResult,\n    TError,\n    TKey extends QueryKeyWithoutObjectAndArray\n  >(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, [TKey]>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult, TError, TKey extends TupleQueryKey>(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, TKey>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with query function, config and optional prefetch options\n  async prefetchQuery<\n    TResult,\n    TError,\n    TKey extends QueryKeyWithoutObjectAndArray\n  >(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, [TKey]>,\n    queryConfig: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult, TError, TKey extends TupleQueryKey>(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, TKey>,\n    queryConfig: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Object syntax\n  async prefetchQuery<TResult, TError, TKey extends QueryKeyWithoutArray>(\n    config: PrefetchQueryObjectConfig<TResult, TError, [TKey]>\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult, TError, TKey extends TupleQueryKey>(\n    config: PrefetchQueryObjectConfig<TResult, TError, TKey>\n  ): Promise<TResult | undefined>\n\n  // Implementation\n  async prefetchQuery<TResult, TError>(\n    ...args: any[]\n  ): Promise<TResult | undefined> {\n    if (\n      isObject(args[1]) &&\n      (args[1].hasOwnProperty('throwOnError') ||\n        args[1].hasOwnProperty('force'))\n    ) {\n      args[3] = args[1]\n      args[1] = undefined\n      args[2] = undefined\n    }\n\n    const [queryKey, config, options] = getQueryArgs<\n      TResult,\n      TError,\n      PrefetchQueryOptions | undefined\n    >(args)\n    // https://github.com/tannerlinsley/react-query/issues/652\n    const configWithoutRetry = { retry: false, ...config }\n\n    try {\n      const query = this.buildQuery<TResult, TError>(\n        queryKey,\n        configWithoutRetry\n      )\n      if (options?.force || query.state.isStale) {\n        await query.fetch()\n      }\n      return query.state.data\n    } catch (err) {\n      if (options?.throwOnError) {\n        throw err\n      }\n      Console.error(err)\n      return\n    }\n  }\n\n  setQueryData<TResult, TError = unknown>(\n    queryKey: QueryKey,\n    updater: Updater<TResult | undefined, TResult>,\n    config: QueryConfig<TResult, TError> = {}\n  ) {\n    let query = this.getQuery<TResult, TError>(queryKey)\n\n    if (!query) {\n      query = this.buildQuery<TResult, TError>(queryKey, config)\n    }\n\n    query.setData(updater)\n  }\n}\n\nexport const queryCache = makeQueryCache({ frozen: isServer })\n\nexport const queryCaches = [queryCache]\n\nexport function makeQueryCache(config?: QueryCacheConfig) {\n  return new QueryCache(config)\n}\n","import { isOnline, isDocumentVisible, Console, isServer } from './utils'\nimport { queryCaches } from './queryCache'\n\ntype FocusHandler = () => void\n\nconst visibilityChangeEvent = 'visibilitychange'\nconst focusEvent = 'focus'\n\nconst onWindowFocus: FocusHandler = () => {\n  if (isDocumentVisible() && isOnline()) {\n    queryCaches.forEach(queryCache =>\n      queryCache\n        .invalidateQueries(query => {\n          if (!query.instances.length) {\n            return false\n          }\n\n          if (!query.instances.some(instance => instance.config.enabled)) {\n            return false\n          }\n\n          if (!query.state.isStale) {\n            return false\n          }\n\n          if (query.shouldContinueRetryOnFocus) {\n            // delete promise, so refetching will create new one\n            delete query.promise\n          }\n\n          return Boolean(query.config.refetchOnWindowFocus)\n        })\n        .catch(Console.error)\n    )\n  }\n}\n\nlet removePreviousHandler: (() => void) | void\n\nexport function setFocusHandler(callback: (callback: FocusHandler) => void) {\n  // Unsub the old watcher\n  if (removePreviousHandler) {\n    removePreviousHandler()\n  }\n  // Sub the new watcher\n  removePreviousHandler = callback(onWindowFocus)\n}\n\nsetFocusHandler((handleFocus: FocusHandler) => {\n  // Listen to visibillitychange and focus\n  if (!isServer && window?.addEventListener) {\n    window.addEventListener(visibilityChangeEvent, handleFocus, false)\n    window.addEventListener(focusEvent, handleFocus, false)\n\n    return () => {\n      // Be sure to unsubscribe if a new handler is set\n      window.removeEventListener(visibilityChangeEvent, handleFocus)\n      window.removeEventListener(focusEvent, handleFocus)\n    }\n  }\n  return\n})\n","import React from 'react'\n\nimport {\n  queryCache as defaultQueryCache,\n  queryCaches,\n  makeQueryCache,\n} from '../core'\nimport { QueryCache } from '../core/queryCache'\n\nexport const queryCacheContext = React.createContext(defaultQueryCache)\n\nexport const useQueryCache = () => React.useContext(queryCacheContext)\n\nexport interface ReactQueryCacheProviderProps {\n  queryCache?: QueryCache\n}\n\nexport const ReactQueryCacheProvider: React.FC<ReactQueryCacheProviderProps> = ({\n  queryCache,\n  children,\n}) => {\n  const resolvedQueryCache = React.useMemo(\n    () => queryCache || makeQueryCache(),\n    [queryCache]\n  )\n\n  React.useEffect(() => {\n    queryCaches.push(resolvedQueryCache)\n\n    return () => {\n      // remove the cache from the active list\n      const i = queryCaches.indexOf(resolvedQueryCache)\n      if (i > -1) {\n        queryCaches.splice(i, 1)\n      }\n      // if the resolvedQueryCache was created by us, we need to tear it down\n      if (queryCache == null) {\n        resolvedQueryCache.clear({ notify: false })\n      }\n    }\n  }, [resolvedQueryCache, queryCache])\n\n  return (\n    <queryCacheContext.Provider value={resolvedQueryCache}>\n      {children}\n    </queryCacheContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { DEFAULT_CONFIG, defaultConfigRef } from '../core/config'\nimport { ReactQueryConfig } from '../core/types'\n\nconst configContext = React.createContext<ReactQueryConfig | undefined>(\n  undefined\n)\n\nexport function useConfigContext() {\n  return React.useContext(configContext) || defaultConfigRef.current\n}\n\nexport interface ReactQueryProviderConfig extends ReactQueryConfig {}\n\nexport interface ReactQueryConfigProviderProps {\n  config: ReactQueryProviderConfig\n}\n\nexport const ReactQueryConfigProvider: React.FC<ReactQueryConfigProviderProps> = ({\n  config,\n  children,\n}) => {\n  const configContextValueOrDefault = useConfigContext()\n  const configContextValue = React.useContext(configContext)\n\n  const newConfig = React.useMemo<ReactQueryConfig>(() => {\n    const { shared = {}, queries = {}, mutations = {} } = config\n    const {\n      shared: contextShared = {},\n      queries: contextQueries = {},\n      mutations: contextMutations = {},\n    } = configContextValueOrDefault\n\n    return {\n      shared: {\n        ...contextShared,\n        ...shared,\n      },\n      queries: {\n        ...contextQueries,\n        ...queries,\n      },\n      mutations: {\n        ...contextMutations,\n        ...mutations,\n      },\n    }\n  }, [config, configContextValueOrDefault])\n\n  React.useEffect(() => {\n    // restore previous config on unmount\n    return () => {\n      defaultConfigRef.current = {\n        ...(configContextValueOrDefault || DEFAULT_CONFIG),\n      }\n    }\n  }, [configContextValueOrDefault])\n\n  // If this is the outermost provider, overwrite the shared default config\n  if (!configContextValue) {\n    defaultConfigRef.current = newConfig\n  }\n\n  return (\n    <configContext.Provider value={newConfig}>\n      {children}\n    </configContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { uid, isServer } from '../core/utils'\nimport { QueryResultBase, QueryStatus } from '../core/types'\n\nexport function useUid(): number {\n  const ref = React.useRef(0)\n\n  if (ref.current === null) {\n    ref.current = uid()\n  }\n\n  return ref.current\n}\n\nexport function useGetLatest<T>(obj: T): () => T {\n  const ref = React.useRef<T>(obj)\n  ref.current = obj\n  return React.useCallback(() => ref.current, [])\n}\n\nexport function useMountedCallback<T extends Function>(callback: T): T {\n  const mounted = React.useRef(false)\n\n  React[isServer ? 'useEffect' : 'useLayoutEffect'](() => {\n    mounted.current = true\n    return () => {\n      mounted.current = false\n    }\n  }, [])\n\n  return (React.useCallback(\n    (...args: any[]) => (mounted.current ? callback(...args) : void 0),\n    [callback]\n  ) as any) as T\n}\n\nexport function useRerenderer() {\n  const rerender = useMountedCallback(React.useState<unknown>()[1])\n  return React.useCallback(() => rerender({}), [rerender])\n}\n\nexport function handleSuspense(result: QueryResultBase<any, any>) {\n  const { error, query } = result\n  const { config, state } = query\n\n  if (config.suspense || config.useErrorBoundary) {\n    if (state.status === QueryStatus.Error && state.throwInErrorBoundary) {\n      throw error\n    }\n\n    if (\n      config.suspense &&\n      state.status !== QueryStatus.Success &&\n      config.enabled\n    ) {\n      query.wasSuspended = true\n      throw query.fetch()\n    }\n  }\n}\n","import React from 'react'\n\nimport { useRerenderer, useGetLatest } from './utils'\nimport { useQueryCache } from './ReactQueryCacheProvider'\n\nexport function useIsFetching(): number {\n  const queryCache = useQueryCache()\n  const rerender = useRerenderer()\n  const isFetching = queryCache.isFetching\n\n  const getIsFetching = useGetLatest(isFetching)\n\n  React.useEffect(\n    () =>\n      queryCache.subscribe(newCache => {\n        if (getIsFetching() !== newCache.isFetching) {\n          rerender()\n        }\n      }),\n    [getIsFetching, queryCache, rerender]\n  )\n\n  return isFetching\n}\n","import React from 'react'\n\nimport { useConfigContext } from './ReactQueryConfigProvider'\nimport { useGetLatest, useMountedCallback } from './utils'\nimport { Console, uid, getStatusProps } from '../core/utils'\nimport {\n  QueryStatus,\n  MutationResultPair,\n  MutationFunction,\n  MutationConfig,\n  MutateConfig,\n} from '../core/types'\n\n// TYPES\n\ntype Reducer<S, A> = (prevState: S, action: A) => S\n\ninterface State<TResult, TError> {\n  status: QueryStatus\n  data: TResult | undefined\n  error: TError | null\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n}\n\nenum ActionType {\n  Reset = 'Reset',\n  Loading = 'Loading',\n  Resolve = 'Resolve',\n  Reject = 'Reject',\n}\n\ninterface ResetAction {\n  type: ActionType.Reset\n}\n\ninterface LoadingAction {\n  type: ActionType.Loading\n}\n\ninterface ResolveAction<TResult> {\n  type: ActionType.Resolve\n  data: TResult\n}\n\ninterface RejectAction<TError> {\n  type: ActionType.Reject\n  error: TError\n}\n\ntype Action<TResult, TError> =\n  | ResetAction\n  | LoadingAction\n  | ResolveAction<TResult>\n  | RejectAction<TError>\n\n// HOOK\n\nconst getDefaultState = (): State<any, any> => ({\n  ...getStatusProps(QueryStatus.Idle),\n  data: undefined,\n  error: null,\n})\n\nfunction mutationReducer<TResult, TError>(\n  state: State<TResult, TError>,\n  action: Action<TResult, TError>\n): State<TResult, TError> {\n  switch (action.type) {\n    case ActionType.Reset:\n      return getDefaultState()\n    case ActionType.Loading:\n      return {\n        ...getStatusProps(QueryStatus.Loading),\n        data: undefined,\n        error: null,\n      }\n    case ActionType.Resolve:\n      return {\n        ...getStatusProps(QueryStatus.Success),\n        data: action.data,\n        error: null,\n      }\n    case ActionType.Reject:\n      return {\n        ...getStatusProps(QueryStatus.Error),\n        data: undefined,\n        error: action.error,\n      }\n    default:\n      return state\n  }\n}\n\nexport function useMutation<\n  TResult,\n  TError = unknown,\n  TVariables = undefined,\n  TSnapshot = unknown\n>(\n  mutationFn: MutationFunction<TResult, TVariables>,\n  config: MutationConfig<TResult, TError, TVariables, TSnapshot> = {}\n): MutationResultPair<TResult, TError, TVariables, TSnapshot> {\n  const [state, unsafeDispatch] = React.useReducer(\n    mutationReducer as Reducer<State<TResult, TError>, Action<TResult, TError>>,\n    null,\n    getDefaultState\n  )\n\n  const dispatch = useMountedCallback(unsafeDispatch)\n\n  const getMutationFn = useGetLatest(mutationFn)\n\n  const contextConfig = useConfigContext()\n\n  const getConfig = useGetLatest({\n    ...contextConfig.shared,\n    ...contextConfig.mutations,\n    ...config,\n  })\n\n  const latestMutationRef = React.useRef<number>()\n\n  const mutate = React.useCallback(\n    async (\n      variables?: TVariables,\n      mutateConfig: MutateConfig<TResult, TError, TVariables, TSnapshot> = {}\n    ): Promise<TResult | undefined> => {\n      const config = getConfig()\n\n      const mutationId = uid()\n      latestMutationRef.current = mutationId\n\n      const isLatest = () => latestMutationRef.current === mutationId\n\n      let snapshotValue: TSnapshot | undefined\n\n      try {\n        dispatch({ type: ActionType.Loading })\n        snapshotValue = (await config.onMutate?.(variables!)) as TSnapshot\n\n        const data = await getMutationFn()(variables!)\n\n        if (isLatest()) {\n          dispatch({ type: ActionType.Resolve, data })\n        }\n\n        await config.onSuccess?.(data, variables!)\n        await mutateConfig.onSuccess?.(data, variables!)\n        await config.onSettled?.(data, null, variables!)\n        await mutateConfig.onSettled?.(data, null, variables!)\n\n        return data\n      } catch (error) {\n        Console.error(error)\n        await config.onError?.(error, variables!, snapshotValue!)\n        await mutateConfig.onError?.(error, variables!, snapshotValue!)\n        await config.onSettled?.(\n          undefined,\n          error,\n          variables!,\n          snapshotValue as TSnapshot\n        )\n        await mutateConfig.onSettled?.(\n          undefined,\n          error,\n          variables!,\n          snapshotValue\n        )\n\n        if (isLatest()) {\n          dispatch({ type: ActionType.Reject, error })\n        }\n\n        if (mutateConfig.throwOnError ?? config.throwOnError) {\n          throw error\n        }\n\n        return\n      }\n    },\n    [dispatch, getConfig, getMutationFn]\n  )\n\n  const reset = React.useCallback(() => {\n    dispatch({ type: ActionType.Reset })\n  }, [dispatch])\n\n  React.useEffect(() => {\n    const { suspense, useErrorBoundary } = getConfig()\n\n    if ((useErrorBoundary ?? suspense) && state.error) {\n      throw state.error\n    }\n  }, [getConfig, state.error])\n\n  return [mutate, { ...state, reset }]\n}\n","import React from 'react'\n\nimport { useQueryCache } from './ReactQueryCacheProvider'\nimport { useRerenderer } from './utils'\nimport { QueryInstance } from '../core/queryInstance'\nimport { QueryConfig, QueryKey, QueryResultBase } from '../core/types'\n\nexport function useBaseQuery<TResult, TError>(\n  queryKey: QueryKey,\n  config: QueryConfig<TResult, TError> = {}\n): QueryResultBase<TResult, TError> {\n  // Make a rerender function\n  const rerender = useRerenderer()\n\n  // Get the query cache\n  const queryCache = useQueryCache()\n\n  // Build the query for use\n  const query = queryCache.buildQuery<TResult, TError>(queryKey, config)\n  const state = query.state\n\n  // Create a query instance ref\n  const instanceRef = React.useRef<QueryInstance<TResult, TError>>()\n\n  // Subscribe to the query when the subscribe function changes\n  React.useEffect(() => {\n    const instance = query.subscribe(() => {\n      rerender()\n    })\n\n    instanceRef.current = instance\n\n    // Unsubscribe when things change\n    return () => instance.unsubscribe()\n  }, [query, rerender])\n\n  // Always update the config\n  React.useEffect(() => {\n    instanceRef.current?.updateConfig(config)\n  })\n\n  const enabledBool = Boolean(config.enabled)\n\n  // Run the instance when the query or enabled change\n  React.useEffect(() => {\n    if (enabledBool && query) {\n      // Just for change detection\n    }\n    instanceRef.current?.run()\n  }, [enabledBool, query])\n\n  const clear = React.useMemo(() => query.clear.bind(query), [query])\n  const refetch = React.useMemo(() => query.refetch.bind(query), [query])\n\n  return {\n    clear,\n    error: state.error,\n    failureCount: state.failureCount,\n    isError: state.isError,\n    isFetching: state.isFetching,\n    isIdle: state.isIdle,\n    isLoading: state.isLoading,\n    isStale: state.isStale,\n    isSuccess: state.isSuccess,\n    query,\n    refetch,\n    status: state.status,\n    updatedAt: state.updatedAt,\n  }\n}\n","import { getQueryArgs } from '../core/utils'\nimport { useConfigContext } from './ReactQueryConfigProvider'\nimport { QueryConfig, QueryKey } from '../core/types'\n\nexport function useQueryArgs<TResult, TError, TOptions = undefined>(\n  args: any[]\n): [QueryKey, QueryConfig<TResult, TError>, TOptions] {\n  const configContext = useConfigContext()\n\n  const [queryKey, config, options] = getQueryArgs<TResult, TError, TOptions>(\n    args\n  )\n\n  // Build the final config\n  const configWithContext = {\n    ...configContext.shared,\n    ...configContext.queries,\n    ...config,\n  } as QueryConfig<TResult, TError>\n\n  return [queryKey, configWithContext, options]\n}\n","import { useBaseQuery } from './useBaseQuery'\nimport { handleSuspense } from './utils'\nimport {\n  QueryConfig,\n  QueryKey,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObject,\n  QueryKeyWithoutObjectAndArray,\n  QueryResult,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from '../core/types'\nimport { useQueryArgs } from './useQueryArgs'\n\n// TYPES\n\nexport interface UseQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, [TKey]>\n  config?: QueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function useQuery<TResult, TError, TKey extends QueryKeyWithoutObject>(\n  queryKey: TKey,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObjectAndArray\n>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, [TKey]>,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useQuery<TResult, TError, TKey extends TupleQueryKey>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, TKey>,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Object syntax\nexport function useQuery<TResult, TError, TKey extends QueryKeyWithoutArray>(\n  config: UseQueryObjectConfig<TResult, TError, [TKey]>\n): QueryResult<TResult, TError>\n\nexport function useQuery<TResult, TError, TKey extends TupleQueryKey>(\n  config: UseQueryObjectConfig<TResult, TError, TKey>\n): QueryResult<TResult, TError>\n\n// Implementation\nexport function useQuery<TResult, TError>(\n  ...args: any[]\n): QueryResult<TResult, TError> {\n  const [queryKey, config] = useQueryArgs<TResult, TError>(args)\n  const result = useBaseQuery<TResult, TError>(queryKey, config)\n\n  handleSuspense(result)\n\n  return {\n    ...result,\n    data: result.query.state.data,\n  }\n}\n","import React from 'react'\n\nimport { useBaseQuery } from './useBaseQuery'\nimport { handleSuspense } from './utils'\nimport { getStatusProps } from '../core/utils'\nimport {\n  PaginatedQueryConfig,\n  PaginatedQueryResult,\n  QueryKey,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObject,\n  QueryKeyWithoutObjectAndArray,\n  QueryStatus,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from '../core/types'\nimport { useQueryArgs } from './useQueryArgs'\n\n// A paginated query is more like a \"lag\" query, which means\n// as the query key changes, we keep the results from the\n// last query and use them as placeholder data in the next one\n// We DON'T use it as initial data though. That's important\n\n// TYPES\n\nexport interface UsePaginatedQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, TKey>\n  config?: PaginatedQueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObject\n>(\n  queryKey: TKey,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObjectAndArray\n>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, [TKey]>,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\nexport function usePaginatedQuery<TResult, TError, TKey extends TupleQueryKey>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, TKey>,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Object syntax\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutArray\n>(\n  config: UsePaginatedQueryObjectConfig<TResult, TError, [TKey]>\n): PaginatedQueryResult<TResult, TError>\n\nexport function usePaginatedQuery<TResult, TError, TKey extends TupleQueryKey>(\n  config: UsePaginatedQueryObjectConfig<TResult, TError, TKey>\n): PaginatedQueryResult<TResult, TError>\n\n// Implementation\nexport function usePaginatedQuery<TResult, TError>(\n  ...args: any[]\n): PaginatedQueryResult<TResult, TError> {\n  const [queryKey, config] = useQueryArgs<TResult, TError>(args)\n\n  // Keep track of the latest data result\n  const lastDataRef = React.useRef<TResult>()\n\n  // If latestData is there, don't use initialData\n  if (typeof lastDataRef.current !== 'undefined') {\n    delete config.initialData\n  }\n\n  // Make the query as normal\n  const result = useBaseQuery<TResult, TError>(queryKey, config)\n\n  // If the query is disabled, get rid of the latest data\n  if (!result.query.config.enabled) {\n    lastDataRef.current = undefined\n  }\n\n  // Get the real data and status from the query\n  const { data: latestData, status } = result.query.state\n\n  // If the real query succeeds, and there is data in it,\n  // update the latest data\n  React.useEffect(() => {\n    if (status === QueryStatus.Success && typeof latestData !== 'undefined') {\n      lastDataRef.current = latestData\n    }\n  }, [latestData, status])\n\n  // Resolved data should be either the real data we're waiting on\n  // or the latest placeholder data\n  let resolvedData = latestData\n  if (typeof resolvedData === 'undefined') {\n    resolvedData = lastDataRef.current\n  }\n\n  // If we have any data at all from either, we\n  // need to make sure the status is success, even though\n  // the real query may still be loading\n  if (typeof resolvedData !== 'undefined') {\n    const overrides = getStatusProps(QueryStatus.Success)\n    Object.assign(result.query.state, overrides)\n    Object.assign(result, overrides)\n  }\n\n  handleSuspense(result)\n\n  return {\n    ...result,\n    resolvedData,\n    latestData,\n  }\n}\n","import React from 'react'\n\nimport { useBaseQuery } from './useBaseQuery'\nimport { handleSuspense } from './utils'\nimport {\n  InfiniteQueryConfig,\n  InfiniteQueryResult,\n  QueryKey,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObject,\n  QueryKeyWithoutObjectAndArray,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from '../core/types'\nimport { useQueryArgs } from './useQueryArgs'\n\n// TYPES\n\nexport interface UseInfiniteQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, TKey>\n  config?: InfiniteQueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObject\n>(\n  queryKey: TKey,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObjectAndArray\n>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, [TKey]>,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\nexport function useInfiniteQuery<TResult, TError, TKey extends TupleQueryKey>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, TKey>,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Object syntax\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutArray\n>(\n  config: UseInfiniteQueryObjectConfig<TResult, TError, [TKey]>\n): InfiniteQueryResult<TResult, TError>\n\nexport function useInfiniteQuery<TResult, TError, TKey extends TupleQueryKey>(\n  config: UseInfiniteQueryObjectConfig<TResult, TError, TKey>\n): InfiniteQueryResult<TResult, TError>\n\n// Implementation\nexport function useInfiniteQuery<TResult, TError>(\n  ...args: any[]\n): InfiniteQueryResult<TResult, TError> {\n  const [queryKey, config] = useQueryArgs<TResult[], TError>(args)\n\n  config.infinite = true\n\n  const result = useBaseQuery<TResult[], TError>(queryKey, config)\n  const query = result.query\n  const state = result.query.state\n\n  handleSuspense(result)\n\n  const fetchMore = React.useMemo(() => query.fetchMore.bind(query), [query])\n\n  return {\n    ...result,\n    data: state.data,\n    canFetchMore: state.canFetchMore,\n    fetchMore,\n    isFetching: state.isFetching,\n    isFetchingMore: state.isFetchingMore,\n  }\n}\n"],"names":["QueryStatus","_uid","uid","cancelledError","isServer","window","noop","identity","d","Console","console","error","warn","log","setConsole","c","functionalUpdate","updater","input","stableStringifyReplacer","_key","value","Error","isObject","Object","keys","sort","reduce","result","key","stableStringify","JSON","stringify","a","Array","isArray","deepIncludes","b","some","isDocumentVisible","visibilityState","document","undefined","includes","isOnline","navigator","onLine","getQueryArgs","args","queryKey","queryFn","config","options","deepEqual","equal","shallowEqual","deep","depth","length","i","valueOf","prototype","hasOwnProperty","call","getStatusProps","status","isLoading","Loading","isSuccess","Success","isError","isIdle","Idle","defaultQueryKeySerializerFn","arrayQueryKey","queryHash","parse","DEFAULT_CONFIG","shared","suspense","queries","queryKeySerializerFn","enabled","retry","retryDelay","attemptIndex","Math","min","staleTime","cacheTime","refetchOnWindowFocus","refetchInterval","queryFnParamsFilter","refetchOnMount","isDataEqual","useErrorBoundary","mutations","throwOnError","defaultConfigRef","current","direct","then","Promise","resolve","body","recover","e","QueryInstance","query","onStateUpdate","id","clearInterval","refetchIntervalId","updateConfig","oldConfig","clearIntervals","minInterval","instances","map","Infinity","setInterval","_","refetchIntervalInBackground","fetch","run","wasSuspended","state","isStale","unsubscribe","filter","cancel","scheduleGarbageCollection","_empty","ActionType","f","arguments","apply","reject","pact","s","v","o","bind","observer","onFulfilled","onRejected","callback","_this","thenable","test","awaitBody","shouldContinue","_resumeAfterBody","_resumeAfterTest","thrown","finalizer","Query","init","queryCache","notifyGlobalListeners","getDefaultState","infinite","infiniteConfig","infiniteData","data","canFetchMore","fetchMoreVariable","getFetchMore","pageVariables","dispatch","action","newState","queryReducer","forEach","scheduleStaleTimeout","clearStaleTimeout","staleTimeout","setTimeout","invalidate","type","MarkStale","clearCacheTimeout","MarkGC","cacheTimeout","removeQueries","markedForGarbageCollection","refetch","heal","cancelled","cancelPromises","promise","instance","clearTimeout","clearRetryTimeout","retryTimeout","setState","SetState","setData","clear","subscribe","push","tryFetchData","fn","promiseOrValue","shouldContinueRetryOnFocus","failureCount","Failed","delay","fetchMore","originalQueryFn","rebuiltPageVariables","shift","nextCursor","pageArgs","slice","previous","old","isFetchingMore","newArgs","newData","getCallbackInstances","callbackInstances","fallbackInstance","unshift","Fetch","onSuccess","onSettled","onError","initialData","hasInitialData","initialStale","initialStatus","isFetching","updatedAt","Date","now","throwInErrorBoundary","QueryCache","globalListeners","configRef","defaultConfig","values","acc","listener","splice","indexOf","notify","getQueries","predicate","predicateFn","exact","getQuery","getQueryData","cancelQueries","invalidateQueries","refetchActive","refetchInactive","all","err","resetErrorBoundaries","buildQuery","userQueryKey","queryConfig","frozen","prefetchQuery","configWithoutRetry","force","setQueryData","makeQueryCache","queryCaches","visibilityChangeEvent","focusEvent","onWindowFocus","Boolean","catch","removePreviousHandler","setFocusHandler","handleFocus","addEventListener","removeEventListener","queryCacheContext","React","createContext","defaultQueryCache","useQueryCache","useContext","ReactQueryCacheProvider","children","resolvedQueryCache","useMemo","useEffect","configContext","useConfigContext","ReactQueryConfigProvider","configContextValueOrDefault","configContextValue","newConfig","contextShared","contextQueries","contextMutations","useGetLatest","obj","ref","useRef","useCallback","useMountedCallback","mounted","useRerenderer","rerender","useState","handleSuspense","useIsFetching","getIsFetching","newCache","_await","mutationReducer","Reset","Resolve","Reject","useMutation","mutationFn","useReducer","unsafeDispatch","getMutationFn","contextConfig","getConfig","latestMutationRef","mutate","variables","mutateConfig","mutationId","isLatest","snapshotValue","onMutate","reset","useBaseQuery","instanceRef","enabledBool","useQueryArgs","configWithContext","useQuery","usePaginatedQuery","lastDataRef","latestData","resolvedData","overrides","assign","useInfiniteQuery"],"mappings":"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"}