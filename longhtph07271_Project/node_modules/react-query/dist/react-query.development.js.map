{"version":3,"file":"react-query.development.js","sources":["../src/core/types.ts","../src/core/utils.ts","../src/core/config.ts","../src/core/queryInstance.ts","../src/core/query.ts","../src/core/queryCache.ts","../src/core/setFocusHandler.ts","../src/react/ReactQueryCacheProvider.tsx","../src/react/ReactQueryConfigProvider.tsx","../src/react/utils.ts","../src/react/useIsFetching.ts","../src/react/useMutation.ts","../src/react/useBaseQuery.ts","../src/react/useQueryArgs.ts","../src/react/useQuery.ts","../src/react/usePaginatedQuery.ts","../src/react/useInfiniteQuery.ts"],"sourcesContent":["import { Query, FetchMoreOptions } from './query'\n\nexport type QueryKeyObject =\n  | object\n  | { [key: string]: QueryKey }\n  | { [key: number]: QueryKey }\n\nexport type QueryKeyPrimitive = string | boolean | number | null | undefined\n\nexport type QueryKeyWithoutObjectAndArray = QueryKeyPrimitive\n\nexport type QueryKeyWithoutObject =\n  | QueryKeyWithoutObjectAndArray\n  | readonly QueryKey[]\n\nexport type QueryKeyWithoutArray =\n  | QueryKeyWithoutObjectAndArray\n  | QueryKeyObject\n\nexport type QueryKey = QueryKeyWithoutObject | QueryKeyObject\n\nexport type ArrayQueryKey = QueryKey[]\n\nexport type QueryFunction<TResult> = (\n  ...args: any[]\n) => TResult | Promise<TResult>\n\n// The tuple variants are only to infer types in the public API\nexport type TupleQueryKey = readonly [QueryKey, ...QueryKey[]]\n\nexport type TupleQueryFunction<TResult, TKey extends TupleQueryKey> = (\n  ...args: TKey\n) => TResult | Promise<TResult>\n\nexport type InitialDataFunction<TResult> = () => TResult | undefined\n\nexport type InitialStaleFunction = () => boolean\n\nexport type QueryKeySerializerFunction = (\n  queryKey: QueryKey\n) => [string, QueryKey[]]\n\nexport interface BaseQueryConfig<TResult, TError = unknown> {\n  /**\n   * Set this to `false` to disable automatic refetching when the query mounts or changes query keys.\n   * To refetch the query, use the `refetch` method returned from the `useQuery` instance.\n   */\n  enabled?: boolean | unknown\n  /**\n   * If `false`, failed queries will not retry by default.\n   * If `true`, failed queries will retry infinitely., failureCount: num\n   * If set to an integer number, e.g. 3, failed queries will retry until the failed query count meets that number.\n   * If set to a function `(failureCount, error) => boolean` failed queries will retry until the function returns false.\n   */\n  retry?: boolean | number | ((failureCount: number, error: TError) => boolean)\n  retryDelay?: number | ((retryAttempt: number) => number)\n  staleTime?: number\n  cacheTime?: number\n  refetchInterval?: false | number\n  refetchIntervalInBackground?: boolean\n  refetchOnWindowFocus?: boolean\n  refetchOnMount?: boolean\n  onSuccess?: (data: TResult) => void\n  onError?: (err: TError) => void\n  onSettled?: (data: TResult | undefined, error: TError | null) => void\n  isDataEqual?: (oldData: unknown, newData: unknown) => boolean\n  useErrorBoundary?: boolean\n  queryFn?: QueryFunction<TResult>\n  queryKeySerializerFn?: QueryKeySerializerFunction\n  queryFnParamsFilter?: (args: ArrayQueryKey) => ArrayQueryKey\n  suspense?: boolean\n  initialData?: TResult | InitialDataFunction<TResult>\n  initialStale?: boolean | InitialStaleFunction\n  infinite?: true\n}\n\nexport interface QueryConfig<TResult, TError = unknown>\n  extends BaseQueryConfig<TResult, TError> {}\n\nexport interface PaginatedQueryConfig<TResult, TError = unknown>\n  extends BaseQueryConfig<TResult, TError> {}\n\nexport interface InfiniteQueryConfig<TResult, TError = unknown>\n  extends BaseQueryConfig<TResult[], TError> {\n  getFetchMore: (lastPage: TResult, allPages: TResult[]) => unknown\n}\n\nexport type IsFetchingMoreValue = 'previous' | 'next' | false\n\nexport enum QueryStatus {\n  Idle = 'idle',\n  Loading = 'loading',\n  Error = 'error',\n  Success = 'success',\n}\n\nexport interface QueryResultBase<TResult, TError = unknown> {\n  status: QueryStatus\n  error: TError | null\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n  isIdle: boolean\n  isFetching: boolean\n  isStale: boolean\n  failureCount: number\n  query: Query<TResult, TError>\n  updatedAt: number\n  refetch: () => Promise<void>\n  clear: () => void\n}\n\nexport interface QueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult, TError> {\n  data: TResult | undefined\n}\n\nexport interface PaginatedQueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult, TError> {\n  resolvedData: TResult | undefined\n  latestData: TResult | undefined\n}\n\nexport interface InfiniteQueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult[], TError> {\n  data: TResult[] | undefined\n  isFetchingMore?: IsFetchingMoreValue\n  canFetchMore: boolean | undefined\n  fetchMore: (\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions\n  ) => Promise<TResult[] | undefined> | undefined\n}\n\nexport interface MutateConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> {\n  onSuccess?: (data: TResult, variables: TVariables) => Promise<void> | void\n  onError?: (\n    error: TError,\n    variables: TVariables,\n    snapshotValue: TSnapshot\n  ) => Promise<void> | void\n  onSettled?: (\n    data: undefined | TResult,\n    error: TError | null,\n    variables: TVariables,\n    snapshotValue?: TSnapshot\n  ) => Promise<void> | void\n  throwOnError?: boolean\n}\n\nexport interface MutationConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> extends MutateConfig<TResult, TError, TVariables, TSnapshot> {\n  onMutate?: (variables: TVariables) => Promise<TSnapshot> | TSnapshot\n  useErrorBoundary?: boolean\n  suspense?: boolean\n}\n\nexport type MutationFunction<TResult, TVariables = unknown> = (\n  variables: TVariables\n) => Promise<TResult>\n\nexport type MutateFunction<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> = (\n  variables?: TVariables,\n  config?: MutateConfig<TResult, TError, TVariables, TSnapshot>\n) => Promise<TResult | undefined>\n\nexport type MutationResultPair<TResult, TError, TVariables, TSnapshot> = [\n  MutateFunction<TResult, TError, TVariables, TSnapshot>,\n  MutationResult<TResult, TError>\n]\n\nexport interface MutationResult<TResult, TError = unknown> {\n  status: QueryStatus\n  data: TResult | undefined\n  error: TError | null\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n  reset: () => void\n}\n\nexport interface ReactQueryConfig<TResult = unknown, TError = unknown> {\n  queries?: ReactQueryQueriesConfig<TResult, TError>\n  shared?: ReactQuerySharedConfig\n  mutations?: ReactQueryMutationsConfig<TResult, TError>\n}\n\nexport interface ReactQuerySharedConfig {\n  suspense?: boolean\n}\n\nexport interface ReactQueryQueriesConfig<TResult, TError>\n  extends BaseQueryConfig<TResult, TError> {}\n\nexport interface ReactQueryMutationsConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> extends MutationConfig<TResult, TError, TVariables, TSnapshot> {}\n","import { QueryConfig, QueryStatus, QueryKey, QueryFunction } from './types'\n\n// TYPES\n\nexport type DataUpdateFunction<TInput, TOutput> = (input: TInput) => TOutput\n\nexport type Updater<TInput, TOutput> =\n  | TOutput\n  | DataUpdateFunction<TInput, TOutput>\n\ntype ConsoleFunction = (...args: any[]) => void\n\nexport interface ConsoleObject {\n  log: ConsoleFunction\n  warn: ConsoleFunction\n  error: ConsoleFunction\n}\n\n// UTILS\n\nlet _uid = 0\nexport const uid = () => _uid++\nexport const cancelledError = {}\nexport const globalStateListeners = []\nexport const isServer = typeof window === 'undefined'\nexport function noop(): void {\n  return void 0\n}\nexport function identity<T>(d: T): T {\n  return d\n}\nexport let Console: ConsoleObject = console || {\n  error: noop,\n  warn: noop,\n  log: noop,\n}\n\nexport function setConsole(c: ConsoleObject) {\n  Console = c\n}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as DataUpdateFunction<TInput, TOutput>)(input)\n    : updater\n}\n\nfunction stableStringifyReplacer(_key: string, value: any): unknown {\n  if (typeof value === 'function') {\n    throw new Error('Cannot stringify non JSON value')\n  }\n\n  if (isObject(value)) {\n    return Object.keys(value)\n      .sort()\n      .reduce((result, key) => {\n        result[key] = value[key]\n        return result\n      }, {} as any)\n  }\n\n  return value\n}\n\nexport function stableStringify(value: any): string {\n  return JSON.stringify(value, stableStringifyReplacer)\n}\n\nexport function isObject(a: unknown): boolean {\n  return a && typeof a === 'object' && !Array.isArray(a)\n}\n\nexport function deepIncludes(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (typeof a === 'object') {\n    return !Object.keys(b).some(key => !deepIncludes(a[key], b[key]))\n  }\n\n  return false\n}\n\nexport function isDocumentVisible(): boolean {\n  const visibilityState = document?.visibilityState as any\n\n  return [undefined, 'visible', 'prerender'].includes(visibilityState)\n}\n\nexport function isOnline(): boolean {\n  return navigator.onLine === undefined || navigator.onLine\n}\n\nexport function getQueryArgs<TResult, TError, TOptions = undefined>(\n  args: any[]\n): [QueryKey, QueryConfig<TResult, TError>, TOptions] {\n  let queryKey: QueryKey\n  let queryFn: QueryFunction<TResult> | undefined\n  let config: QueryConfig<TResult, TError> | undefined\n  let options: TOptions\n\n  if (isObject(args[0])) {\n    queryKey = args[0].queryKey\n    queryFn = args[0].queryFn\n    config = args[0].config\n    options = args[1]\n  } else if (isObject(args[1])) {\n    queryKey = args[0]\n    config = args[1]\n    options = args[2]\n  } else {\n    queryKey = args[0]\n    queryFn = args[1]\n    config = args[2]\n    options = args[3]\n  }\n\n  config = config || {}\n\n  if (queryFn) {\n    config = { ...config, queryFn }\n  }\n\n  return [queryKey, config, options]\n}\n\nexport function deepEqual(a: any, b: any): boolean {\n  return equal(a, b, true)\n}\n\nexport function shallowEqual(a: any, b: any): boolean {\n  return equal(a, b, false)\n}\n\n// This deep-equal is directly based on https://github.com/epoberezkin/fast-deep-equal.\n// The parts for comparing any non-JSON-supported values has been removed\nfunction equal(a: any, b: any, deep: boolean, depth = 0): boolean {\n  if (a === b) return true\n\n  if (\n    (deep || !depth) &&\n    a &&\n    b &&\n    typeof a == 'object' &&\n    typeof b == 'object'\n  ) {\n    let length, i\n    if (Array.isArray(a)) {\n      length = a.length\n      // eslint-disable-next-line eqeqeq\n      if (length != b.length) return false\n      for (i = length; i-- !== 0; )\n        if (!equal(a[i], b[i], deep, depth + 1)) return false\n      return true\n    }\n\n    if (a.valueOf !== Object.prototype.valueOf)\n      return a.valueOf() === b.valueOf()\n\n    const keys = Object.keys(a)\n    length = keys.length\n    if (length !== Object.keys(b).length) return false\n\n    for (i = length; i-- !== 0; )\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false\n\n    for (i = length; i-- !== 0; ) {\n      const key = keys[i]\n\n      if (!equal(a[key], b[key], deep, depth + 1)) return false\n    }\n\n    return true\n  }\n\n  // true if both NaN, false otherwise\n  // eslint-disable-next-line no-self-compare\n  return a !== a && b !== b\n}\n\nexport function getStatusProps<T extends QueryStatus>(status: T) {\n  return {\n    status,\n    isLoading: status === QueryStatus.Loading,\n    isSuccess: status === QueryStatus.Success,\n    isError: status === QueryStatus.Error,\n    isIdle: status === QueryStatus.Idle,\n  }\n}\n","import { stableStringify, identity, deepEqual } from './utils'\nimport {\n  ArrayQueryKey,\n  QueryKey,\n  QueryKeySerializerFunction,\n  ReactQueryConfig,\n} from './types'\n\n// TYPES\n\nexport interface ReactQueryConfigRef {\n  current: ReactQueryConfig\n}\n\n// CONFIG\n\nexport const defaultQueryKeySerializerFn: QueryKeySerializerFunction = (\n  queryKey: QueryKey\n): [string, ArrayQueryKey] => {\n  try {\n    let arrayQueryKey: ArrayQueryKey = Array.isArray(queryKey)\n      ? queryKey\n      : [queryKey]\n    const queryHash = stableStringify(arrayQueryKey)\n    arrayQueryKey = JSON.parse(queryHash)\n    return [queryHash, arrayQueryKey]\n  } catch {\n    throw new Error('A valid query key is required!')\n  }\n}\n\nexport const DEFAULT_CONFIG: ReactQueryConfig = {\n  shared: {\n    suspense: false,\n  },\n  queries: {\n    queryKeySerializerFn: defaultQueryKeySerializerFn,\n    enabled: true,\n    retry: 3,\n    retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000),\n    staleTime: 0,\n    cacheTime: 5 * 60 * 1000,\n    refetchOnWindowFocus: true,\n    refetchInterval: false,\n    queryFnParamsFilter: identity,\n    refetchOnMount: true,\n    isDataEqual: deepEqual,\n    useErrorBoundary: false,\n  },\n  mutations: {\n    throwOnError: false,\n    useErrorBoundary: false,\n  },\n}\n\nexport const defaultConfigRef: ReactQueryConfigRef = {\n  current: DEFAULT_CONFIG,\n}\n","import { uid, isServer, isDocumentVisible, Console } from './utils'\nimport { Query, QueryState } from './query'\nimport { BaseQueryConfig } from './types'\n\n// TYPES\n\nexport type OnStateUpdateFunction<TResult, TError> = (\n  state: QueryState<TResult, TError>\n) => void\n\n// CLASS\n\nexport class QueryInstance<TResult, TError> {\n  id: number\n  config: BaseQueryConfig<TResult, TError>\n  onStateUpdate?: OnStateUpdateFunction<TResult, TError>\n\n  private query: Query<TResult, TError>\n  private refetchIntervalId?: number\n\n  constructor(\n    query: Query<TResult, TError>,\n    onStateUpdate?: OnStateUpdateFunction<TResult, TError>\n  ) {\n    this.id = uid()\n    this.onStateUpdate = onStateUpdate\n    this.query = query\n    this.config = {}\n  }\n\n  clearInterval(): void {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId)\n      this.refetchIntervalId = undefined\n    }\n  }\n\n  updateConfig(config: BaseQueryConfig<TResult, TError>): void {\n    const oldConfig = this.config\n\n    // Update the config\n    this.config = config\n\n    if (!isServer) {\n      if (oldConfig?.refetchInterval === config.refetchInterval) {\n        return\n      }\n\n      this.query.clearIntervals()\n\n      const minInterval = Math.min(\n        ...this.query.instances.map(d => d.config.refetchInterval || Infinity)\n      )\n\n      if (\n        !this.refetchIntervalId &&\n        minInterval > 0 &&\n        minInterval < Infinity\n      ) {\n        this.refetchIntervalId = setInterval(() => {\n          if (\n            this.query.instances.some(_ => this.config.enabled) &&\n            (isDocumentVisible() ||\n              this.query.instances.some(\n                _ => this.config.refetchIntervalInBackground\n              ))\n          ) {\n            this.query.fetch()\n          }\n        }, minInterval)\n      }\n    }\n  }\n\n  async run(): Promise<void> {\n    try {\n      // Perform the refetch for this query if necessary\n      if (\n        this.query.config.enabled && // Don't auto refetch if disabled\n        !this.query.wasSuspended && // Don't double refetch for suspense\n        this.query.state.isStale && // Only refetch if stale\n        (this.query.config.refetchOnMount || this.query.instances.length === 1)\n      ) {\n        await this.query.fetch()\n      }\n\n      this.query.wasSuspended = false\n    } catch (error) {\n      Console.error(error)\n    }\n  }\n\n  unsubscribe(): void {\n    this.query.instances = this.query.instances.filter(d => d.id !== this.id)\n\n    if (!this.query.instances.length) {\n      this.clearInterval()\n      this.query.cancel()\n\n      if (!isServer) {\n        // Schedule garbage collection\n        this.query.scheduleGarbageCollection()\n      }\n    }\n  }\n}\n","import {\n  isServer,\n  functionalUpdate,\n  cancelledError,\n  isDocumentVisible,\n  noop,\n  Console,\n  getStatusProps,\n  shallowEqual,\n  Updater,\n} from './utils'\nimport { QueryInstance, OnStateUpdateFunction } from './queryInstance'\nimport {\n  ArrayQueryKey,\n  InfiniteQueryConfig,\n  InitialDataFunction,\n  IsFetchingMoreValue,\n  QueryConfig,\n  QueryFunction,\n  QueryStatus,\n} from './types'\nimport { QueryCache } from './queryCache'\n\n// TYPES\n\ninterface QueryInitConfig<TResult, TError> {\n  queryCache: QueryCache\n  queryKey: ArrayQueryKey\n  queryHash: string\n  config: QueryConfig<TResult, TError>\n  notifyGlobalListeners: (query: Query<TResult, TError>) => void\n}\n\nexport interface QueryState<TResult, TError> {\n  canFetchMore?: boolean\n  data?: TResult\n  error: TError | null\n  failureCount: number\n  isError: boolean\n  isFetching: boolean\n  isFetchingMore?: IsFetchingMoreValue\n  isIdle: boolean\n  isLoading: boolean\n  isStale: boolean\n  isSuccess: boolean\n  markedForGarbageCollection: boolean\n  status: QueryStatus\n  throwInErrorBoundary?: boolean\n  updatedAt: number\n}\n\ninterface FetchOptions {\n  fetchMore?: FetchMoreOptions\n}\n\nexport interface FetchMoreOptions {\n  fetchMoreVariable?: unknown\n  previous: boolean\n}\n\nenum ActionType {\n  Failed = 'Failed',\n  MarkStale = 'MarkStale',\n  MarkGC = 'MarkGC',\n  Fetch = 'Fetch',\n  Success = 'Success',\n  Error = 'Error',\n  SetState = 'SetState',\n}\n\ninterface FailedAction {\n  type: ActionType.Failed\n}\n\ninterface MarkStaleAction {\n  type: ActionType.MarkStale\n}\n\ninterface MarkGCAction {\n  type: ActionType.MarkGC\n}\n\ninterface FetchAction {\n  type: ActionType.Fetch\n}\n\ninterface SuccessAction<TResult> {\n  type: ActionType.Success\n  updater: Updater<TResult | undefined, TResult>\n  isStale: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: ActionType.Error\n  cancelled: boolean\n  error: TError\n}\n\ninterface SetStateAction<TResult, TError> {\n  type: ActionType.SetState\n  updater: Updater<QueryState<TResult, TError>, QueryState<TResult, TError>>\n}\n\ntype Action<TResult, TError> =\n  | ErrorAction<TError>\n  | FailedAction\n  | FetchAction\n  | MarkGCAction\n  | MarkStaleAction\n  | SetStateAction<TResult, TError>\n  | SuccessAction<TResult>\n\n// CLASS\n\nexport class Query<TResult, TError> {\n  queryCache: QueryCache\n  queryKey: ArrayQueryKey\n  queryHash: string\n  config: QueryConfig<TResult, TError>\n  instances: QueryInstance<TResult, TError>[]\n  state: QueryState<TResult, TError>\n  fallbackInstance?: QueryInstance<TResult, TError>\n  wasSuspended?: boolean\n  shouldContinueRetryOnFocus?: boolean\n  promise?: Promise<TResult | undefined>\n\n  private fetchMoreVariable?: unknown\n  private pageVariables?: ArrayQueryKey[]\n  private cacheTimeout?: number\n  private retryTimeout?: number\n  private staleTimeout?: number\n  private cancelPromises?: () => void\n  private cancelled?: typeof cancelledError | null\n  private notifyGlobalListeners: (query: Query<TResult, TError>) => void\n\n  constructor(init: QueryInitConfig<TResult, TError>) {\n    this.config = init.config\n    this.queryCache = init.queryCache\n    this.queryKey = init.queryKey\n    this.queryHash = init.queryHash\n    this.notifyGlobalListeners = init.notifyGlobalListeners\n    this.instances = []\n    this.state = getDefaultState(init.config)\n\n    if (init.config.infinite) {\n      const infiniteConfig = init.config as InfiniteQueryConfig<TResult, TError>\n      const infiniteData = (this.state.data as unknown) as TResult[] | undefined\n\n      if (\n        typeof infiniteData !== 'undefined' &&\n        typeof this.state.canFetchMore === 'undefined'\n      ) {\n        this.fetchMoreVariable = infiniteConfig.getFetchMore(\n          infiniteData[infiniteData.length - 1],\n          infiniteData\n        )\n        this.state.canFetchMore = this.fetchMoreVariable !== false\n      }\n\n      // Here we seed the pageVariabes for the query\n      if (!this.pageVariables) {\n        this.pageVariables = [[...this.queryKey]]\n      }\n    }\n  }\n\n  private dispatch(action: Action<TResult, TError>): void {\n    const newState = queryReducer(this.state, action)\n\n    // Only update state if something has changed\n    if (!shallowEqual(this.state, newState)) {\n      this.state = newState\n      this.instances.forEach(d => d.onStateUpdate?.(this.state))\n      this.notifyGlobalListeners(this)\n    }\n  }\n\n  scheduleStaleTimeout(): void {\n    if (isServer) {\n      return\n    }\n\n    this.clearStaleTimeout()\n\n    if (this.state.isStale) {\n      return\n    }\n\n    if (this.config.staleTime === Infinity) {\n      return\n    }\n\n    this.staleTimeout = setTimeout(() => {\n      this.invalidate()\n    }, this.config.staleTime)\n  }\n\n  invalidate(): void {\n    this.clearStaleTimeout()\n\n    if (!this.queryCache.queries[this.queryHash]) {\n      return\n    }\n\n    if (this.state.isStale) {\n      return\n    }\n\n    this.dispatch({ type: ActionType.MarkStale })\n  }\n\n  scheduleGarbageCollection(): void {\n    this.clearCacheTimeout()\n\n    if (!this.queryCache.queries[this.queryHash]) {\n      return\n    }\n\n    if (this.config.cacheTime === Infinity) {\n      return\n    }\n\n    this.dispatch({ type: ActionType.MarkGC })\n\n    this.cacheTimeout = setTimeout(\n      () => {\n        this.queryCache.removeQueries(\n          d =>\n            d.state.markedForGarbageCollection && d.queryHash === this.queryHash\n        )\n      },\n      typeof this.state.data === 'undefined' &&\n        this.state.status !== QueryStatus.Error\n        ? 0\n        : this.config.cacheTime\n    )\n  }\n\n  async refetch(): Promise<void> {\n    try {\n      await this.fetch()\n    } catch (error) {\n      Console.error(error)\n    }\n  }\n\n  heal(): void {\n    // Stop the query from being garbage collected\n    this.clearCacheTimeout()\n\n    // Mark the query as not cancelled\n    this.cancelled = null\n  }\n\n  cancel(): void {\n    this.cancelled = cancelledError\n\n    if (this.cancelPromises) {\n      this.cancelPromises()\n    }\n\n    delete this.promise\n  }\n\n  clearIntervals(): void {\n    this.instances.forEach(instance => {\n      instance.clearInterval()\n    })\n  }\n\n  private clearStaleTimeout() {\n    if (this.staleTimeout) {\n      clearTimeout(this.staleTimeout)\n      this.staleTimeout = undefined\n    }\n  }\n\n  private clearCacheTimeout() {\n    if (this.cacheTimeout) {\n      clearTimeout(this.cacheTimeout)\n      this.cacheTimeout = undefined\n    }\n  }\n\n  private clearRetryTimeout() {\n    if (this.retryTimeout) {\n      clearTimeout(this.retryTimeout)\n      this.retryTimeout = undefined\n    }\n  }\n\n  private setState(\n    updater: Updater<QueryState<TResult, TError>, QueryState<TResult, TError>>\n  ): void {\n    this.dispatch({ type: ActionType.SetState, updater })\n  }\n\n  setData(updater: Updater<TResult | undefined, TResult>): void {\n    const isStale = this.config.staleTime === 0\n    // Set data and mark it as cached\n    this.dispatch({\n      type: ActionType.Success,\n      updater,\n      isStale,\n    })\n\n    if (!isStale) {\n      // Schedule a fresh invalidation!\n      this.scheduleStaleTimeout()\n    }\n  }\n\n  clear(): void {\n    this.clearStaleTimeout()\n    this.clearCacheTimeout()\n    this.clearRetryTimeout()\n    this.clearIntervals()\n    this.cancel()\n    delete this.queryCache.queries[this.queryHash]\n    this.notifyGlobalListeners(this)\n  }\n\n  subscribe(\n    onStateUpdate?: OnStateUpdateFunction<TResult, TError>\n  ): QueryInstance<TResult, TError> {\n    const instance = new QueryInstance(this, onStateUpdate)\n    this.instances.push(instance)\n    this.heal()\n    return instance\n  }\n\n  // Set up the core fetcher function\n  private async tryFetchData(\n    fn: QueryFunction<TResult>,\n    args: ArrayQueryKey\n  ): Promise<TResult> {\n    try {\n      // Perform the query\n      const promiseOrValue = fn(...this.config.queryFnParamsFilter!(args))\n\n      this.cancelPromises = () => (promiseOrValue as any)?.cancel?.()\n\n      const data = await promiseOrValue\n      delete this.shouldContinueRetryOnFocus\n\n      delete this.cancelPromises\n      if (this.cancelled) throw this.cancelled\n\n      return data\n    } catch (error) {\n      delete this.cancelPromises\n      if (this.cancelled) throw this.cancelled\n\n      // Do we need to retry the request?\n      if (\n        this.config.retry === true ||\n        this.state.failureCount < this.config.retry! ||\n        (typeof this.config.retry === 'function' &&\n          this.config.retry(this.state.failureCount, error))\n      ) {\n        // If we retry, increase the failureCount\n        this.dispatch({ type: ActionType.Failed })\n\n        // Only retry if the document is visible\n        if (!isDocumentVisible()) {\n          // set this flag to continue retries on focus\n          this.shouldContinueRetryOnFocus = true\n          // Resolve a\n          return new Promise(noop)\n        }\n\n        delete this.shouldContinueRetryOnFocus\n\n        // Determine the retryDelay\n        const delay = functionalUpdate(\n          this.config.retryDelay,\n          this.state.failureCount\n        )\n\n        // Return a new promise with the retry\n        return await new Promise((resolve, reject) => {\n          // Keep track of the retry timeout\n          this.retryTimeout = setTimeout(async () => {\n            if (this.cancelled) return reject(this.cancelled)\n\n            try {\n              const data = await this.tryFetchData(fn, args)\n              if (this.cancelled) return reject(this.cancelled)\n              resolve(data)\n            } catch (error) {\n              if (this.cancelled) return reject(this.cancelled)\n              reject(error)\n            }\n          }, delay)\n        })\n      }\n\n      throw error\n    }\n  }\n\n  async fetch(options?: FetchOptions): Promise<TResult | undefined> {\n    let queryFn = this.config.queryFn\n\n    if (!queryFn) {\n      return\n    }\n\n    // If we are already fetching, return current promise\n    if (this.promise) {\n      return this.promise\n    }\n\n    if (this.config.infinite) {\n      const infiniteConfig = this.config as InfiniteQueryConfig<TResult, TError>\n      const infiniteData = (this.state.data as unknown) as TResult[] | undefined\n      const fetchMore = options?.fetchMore\n\n      const originalQueryFn = queryFn\n\n      queryFn = async () => {\n        const data: TResult[] = []\n        const pageVariables = this.pageVariables ? [...this.pageVariables] : []\n        const rebuiltPageVariables: ArrayQueryKey[] = []\n\n        do {\n          const args = pageVariables.shift()!\n\n          if (!data.length) {\n            // the first page query doesn't need to be rebuilt\n            data.push(await originalQueryFn(...args))\n            rebuiltPageVariables.push(args)\n          } else {\n            // get an up-to-date cursor based on the previous data set\n\n            const nextCursor = infiniteConfig.getFetchMore(\n              data[data.length - 1],\n              data\n            )\n\n            // break early if there's no next cursor\n            // otherwise we'll start from the beginning\n            // which will cause unwanted duplication\n            if (!nextCursor) {\n              break\n            }\n\n            const pageArgs = [\n              // remove the last argument (the previously saved cursor)\n              ...args.slice(0, -1),\n              nextCursor,\n            ] as ArrayQueryKey\n\n            data.push(await originalQueryFn(...pageArgs))\n            rebuiltPageVariables.push(pageArgs)\n          }\n        } while (pageVariables.length)\n\n        this.fetchMoreVariable = infiniteConfig.getFetchMore(\n          data[data.length - 1],\n          data\n        )\n        this.state.canFetchMore = this.fetchMoreVariable !== false\n        this.pageVariables = rebuiltPageVariables\n\n        return (data as unknown) as TResult\n      }\n\n      if (fetchMore) {\n        queryFn = async (...args: ArrayQueryKey) => {\n          try {\n            const { fetchMoreVariable, previous } = fetchMore\n\n            this.setState(old => ({\n              ...old,\n              isFetchingMore: previous ? 'previous' : 'next',\n            }))\n\n            const newArgs = [...args, fetchMoreVariable] as ArrayQueryKey\n\n            if (this.pageVariables) {\n              this.pageVariables[previous ? 'unshift' : 'push'](newArgs)\n            } else {\n              this.pageVariables = [newArgs]\n            }\n\n            const newData = await originalQueryFn(...newArgs)\n\n            let data\n\n            if (!infiniteData) {\n              data = [newData]\n            } else if (previous) {\n              data = [newData, ...infiniteData]\n            } else {\n              data = [...infiniteData, newData]\n            }\n\n            this.fetchMoreVariable = infiniteConfig.getFetchMore(newData, data)\n            this.state.canFetchMore = this.fetchMoreVariable !== false\n\n            return (data as unknown) as TResult\n          } finally {\n            this.setState(old => ({\n              ...old,\n              isFetchingMore: false,\n            }))\n          }\n        }\n      }\n    }\n\n    this.promise = (async () => {\n      // If there are any retries pending for this query, kill them\n      this.cancelled = null\n\n      const getCallbackInstances = () => {\n        const callbackInstances = [...this.instances]\n\n        if (this.wasSuspended && this.fallbackInstance) {\n          callbackInstances.unshift(this.fallbackInstance)\n        }\n        return callbackInstances\n      }\n\n      try {\n        // Set up the query refreshing state\n        this.dispatch({ type: ActionType.Fetch })\n\n        // Try to get the data\n        const data = await this.tryFetchData(queryFn!, this.queryKey)\n\n        this.setData(old => (this.config.isDataEqual!(old, data) ? old! : data))\n\n        getCallbackInstances().forEach(instance => {\n          instance.config.onSuccess?.(this.state.data!)\n        })\n\n        getCallbackInstances().forEach(instance =>\n          instance.config.onSettled?.(this.state.data, null)\n        )\n\n        delete this.promise\n\n        return data\n      } catch (error) {\n        this.dispatch({\n          type: ActionType.Error,\n          cancelled: error === this.cancelled,\n          error,\n        })\n\n        delete this.promise\n\n        if (error !== this.cancelled) {\n          getCallbackInstances().forEach(instance =>\n            instance.config.onError?.(error)\n          )\n\n          getCallbackInstances().forEach(instance =>\n            instance.config.onSettled?.(undefined, error)\n          )\n\n          throw error\n        }\n\n        return\n      }\n    })()\n\n    return this.promise\n  }\n\n  fetchMore(\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions\n  ): Promise<TResult | undefined> {\n    return this.fetch({\n      fetchMore: {\n        fetchMoreVariable: fetchMoreVariable ?? this.fetchMoreVariable,\n        previous: options?.previous || false,\n      },\n    })\n  }\n}\n\nfunction getDefaultState<TResult, TError>(\n  config: QueryConfig<TResult, TError>\n): QueryState<TResult, TError> {\n  const initialData =\n    typeof config.initialData === 'function'\n      ? (config.initialData as InitialDataFunction<TResult>)()\n      : config.initialData\n\n  const hasInitialData = typeof initialData !== 'undefined'\n\n  const isStale =\n    !config.enabled ||\n    (typeof config.initialStale === 'function'\n      ? config.initialStale()\n      : config.initialStale ?? !hasInitialData)\n\n  const initialStatus = hasInitialData\n    ? QueryStatus.Success\n    : config.enabled\n    ? QueryStatus.Loading\n    : QueryStatus.Idle\n\n  return {\n    ...getStatusProps(initialStatus),\n    error: null,\n    isFetching: initialStatus === QueryStatus.Loading,\n    failureCount: 0,\n    isStale,\n    markedForGarbageCollection: false,\n    data: initialData,\n    updatedAt: hasInitialData ? Date.now() : 0,\n  }\n}\n\nexport function queryReducer<TResult, TError>(\n  state: QueryState<TResult, TError>,\n  action: Action<TResult, TError>\n): QueryState<TResult, TError> {\n  switch (action.type) {\n    case ActionType.Failed:\n      return {\n        ...state,\n        failureCount: state.failureCount + 1,\n      }\n    case ActionType.MarkStale:\n      return {\n        ...state,\n        isStale: true,\n      }\n    case ActionType.MarkGC: {\n      return {\n        ...state,\n        markedForGarbageCollection: true,\n      }\n    }\n    case ActionType.Fetch:\n      const status =\n        typeof state.data !== 'undefined'\n          ? QueryStatus.Success\n          : QueryStatus.Loading\n      return {\n        ...state,\n        ...getStatusProps(status),\n        isFetching: true,\n        failureCount: 0,\n      }\n    case ActionType.Success:\n      return {\n        ...state,\n        ...getStatusProps(QueryStatus.Success),\n        data: functionalUpdate(action.updater, state.data),\n        error: null,\n        isStale: action.isStale,\n        isFetching: false,\n        updatedAt: Date.now(),\n        failureCount: 0,\n      }\n    case ActionType.Error:\n      return {\n        ...state,\n        failureCount: state.failureCount + 1,\n        isFetching: false,\n        isStale: true,\n        ...(!action.cancelled && {\n          ...getStatusProps(QueryStatus.Error),\n          error: action.error,\n          throwInErrorBoundary: true,\n        }),\n      }\n    case ActionType.SetState:\n      return functionalUpdate(action.updater, state)\n    default:\n      return state\n  }\n}\n","import {\n  isServer,\n  getQueryArgs,\n  deepIncludes,\n  Console,\n  isObject,\n  Updater,\n} from './utils'\nimport { defaultConfigRef, ReactQueryConfigRef } from './config'\nimport { Query } from './query'\nimport {\n  QueryConfig,\n  QueryKey,\n  QueryKeyWithoutObject,\n  ReactQueryConfig,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObjectAndArray,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from './types'\nimport { QueryInstance } from './queryInstance'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  frozen?: boolean\n  defaultConfig?: ReactQueryConfig\n}\n\ninterface ClearOptions {\n  notify?: boolean\n}\n\ninterface PrefetchQueryOptions {\n  force?: boolean\n  throwOnError?: boolean\n}\n\ninterface InvalidateQueriesOptions extends QueryPredicateOptions {\n  refetchActive?: boolean\n  refetchInactive?: boolean\n  throwOnError?: boolean\n}\n\ninterface QueryPredicateOptions {\n  exact?: boolean\n}\n\ntype QueryPredicate = QueryKey | QueryPredicateFn | true\n\ntype QueryPredicateFn = (query: Query<unknown, unknown>) => boolean\n\nexport interface PrefetchQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, TKey>\n  config?: QueryConfig<TResult, TError>\n  options?: PrefetchQueryOptions\n}\n\ninterface QueryHashMap {\n  [hash: string]: Query<any, any>\n}\n\ntype QueryCacheListener = (\n  cache: QueryCache,\n  query?: Query<unknown, unknown>\n) => void\n\n// CLASS\n\nexport class QueryCache {\n  queries: QueryHashMap\n  isFetching: number\n\n  private config: QueryCacheConfig\n  private configRef: ReactQueryConfigRef\n  private globalListeners: QueryCacheListener[]\n\n  constructor(config?: QueryCacheConfig) {\n    this.config = config || {}\n\n    // A frozen cache does not add new queries to the cache\n    this.globalListeners = []\n\n    this.configRef = this.config.defaultConfig\n      ? {\n          current: {\n            shared: {\n              ...defaultConfigRef.current.shared,\n              ...this.config.defaultConfig.shared,\n            },\n            queries: {\n              ...defaultConfigRef.current.queries,\n              ...this.config.defaultConfig.queries,\n            },\n            mutations: {\n              ...defaultConfigRef.current.mutations,\n              ...this.config.defaultConfig.mutations,\n            },\n          },\n        }\n      : defaultConfigRef\n\n    this.queries = {}\n    this.isFetching = 0\n  }\n\n  private notifyGlobalListeners(query?: Query<any, any>) {\n    this.isFetching = Object.values(this.queries).reduce(\n      (acc, query) => (query.state.isFetching ? acc + 1 : acc),\n      0\n    )\n\n    this.globalListeners.forEach(d => d(queryCache, query))\n  }\n\n  subscribe(listener: QueryCacheListener): () => void {\n    this.globalListeners.push(listener)\n    return () => {\n      this.globalListeners.splice(this.globalListeners.indexOf(listener), 1)\n    }\n  }\n\n  clear(options?: ClearOptions): void {\n    Object.values(this.queries).forEach(query => query.clear())\n    this.queries = {}\n    if (options?.notify) {\n      this.notifyGlobalListeners()\n    }\n  }\n\n  getQueries<TResult = unknown, TError = unknown>(\n    predicate: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): Query<TResult, TError>[] {\n    if (predicate === true) {\n      return Object.values(this.queries)\n    }\n\n    let predicateFn: QueryPredicateFn\n\n    if (typeof predicate === 'function') {\n      predicateFn = predicate as QueryPredicateFn\n    } else {\n      const [queryHash, queryKey] = this.configRef.current.queries!\n        .queryKeySerializerFn!(predicate)\n\n      predicateFn = d =>\n        options?.exact\n          ? d.queryHash === queryHash\n          : deepIncludes(d.queryKey, queryKey)\n    }\n\n    return Object.values(this.queries).filter(predicateFn)\n  }\n\n  getQuery<TResult, TError = unknown>(\n    predicate: QueryPredicate\n  ): Query<TResult, TError> | undefined {\n    return this.getQueries<TResult, TError>(predicate, { exact: true })[0]\n  }\n\n  getQueryData<TResult>(predicate: QueryPredicate): TResult | undefined {\n    return this.getQuery<TResult>(predicate)?.state.data\n  }\n\n  removeQueries(\n    predicate: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): void {\n    this.getQueries(predicate, options).forEach(query => query.clear())\n  }\n\n  cancelQueries(\n    predicate: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): void {\n    this.getQueries(predicate, options).forEach(query => query.cancel())\n  }\n\n  async invalidateQueries(\n    predicate: QueryPredicate,\n    options?: InvalidateQueriesOptions\n  ): Promise<void> {\n    const { refetchActive = true, refetchInactive = false, throwOnError } =\n      options || {}\n\n    try {\n      await Promise.all(\n        this.getQueries(predicate, options).map(query => {\n          if (query.instances.length) {\n            if (\n              refetchActive &&\n              query.instances.some(instance => instance.config.enabled)\n            ) {\n              return query.fetch()\n            }\n          } else {\n            if (refetchInactive) {\n              return query.fetch()\n            }\n          }\n\n          return query.invalidate()\n        })\n      )\n    } catch (err) {\n      if (throwOnError) {\n        throw err\n      }\n    }\n  }\n\n  resetErrorBoundaries(): void {\n    this.getQueries(true).forEach(query => {\n      query.state.throwInErrorBoundary = false\n    })\n  }\n\n  buildQuery<TResult, TError = unknown>(\n    userQueryKey: QueryKey,\n    queryConfig: QueryConfig<TResult, TError> = {}\n  ): Query<TResult, TError> {\n    const config = {\n      ...this.configRef.current.shared!,\n      ...this.configRef.current.queries!,\n      ...queryConfig,\n    } as QueryConfig<TResult, TError>\n\n    const [queryHash, queryKey] = config.queryKeySerializerFn!(userQueryKey)\n\n    let query\n\n    if (this.queries[queryHash]) {\n      query = this.queries[queryHash] as Query<TResult, TError>\n      query.config = config\n    }\n\n    if (!query) {\n      query = new Query<TResult, TError>({\n        queryCache,\n        queryKey,\n        queryHash,\n        config,\n        notifyGlobalListeners: query => {\n          this.notifyGlobalListeners(query)\n        },\n      })\n\n      // If the query started with data, schedule\n      // a stale timeout\n      if (!isServer && query.state.data) {\n        query.scheduleStaleTimeout()\n\n        // Simulate a query healing process\n        query.heal()\n        // Schedule for garbage collection in case\n        // nothing subscribes to this query\n        query.scheduleGarbageCollection()\n      }\n\n      if (!this.config.frozen) {\n        this.queries[queryHash] = query\n\n        if (isServer) {\n          this.notifyGlobalListeners()\n        } else {\n          // Here, we setTimeout so as to not trigger\n          // any setState's in parent components in the\n          // middle of the render phase.\n          setTimeout(() => {\n            this.notifyGlobalListeners()\n          })\n        }\n      }\n    }\n\n    query.fallbackInstance = {\n      config: {\n        onSuccess: query.config.onSuccess,\n        onError: query.config.onError,\n        onSettled: query.config.onSettled,\n      },\n    } as QueryInstance<TResult, TError>\n\n    return query\n  }\n\n  // Parameter syntax with optional prefetch options\n  async prefetchQuery<TResult, TError, TKey extends QueryKeyWithoutObject>(\n    queryKey: TKey,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with config and optional prefetch options\n  async prefetchQuery<TResult, TError, TKey extends QueryKeyWithoutObject>(\n    queryKey: TKey,\n    config: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with query function and optional prefetch options\n  async prefetchQuery<\n    TResult,\n    TError,\n    TKey extends QueryKeyWithoutObjectAndArray\n  >(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, [TKey]>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult, TError, TKey extends TupleQueryKey>(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, TKey>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with query function, config and optional prefetch options\n  async prefetchQuery<\n    TResult,\n    TError,\n    TKey extends QueryKeyWithoutObjectAndArray\n  >(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, [TKey]>,\n    queryConfig: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult, TError, TKey extends TupleQueryKey>(\n    queryKey: TKey,\n    queryFn: TupleQueryFunction<TResult, TKey>,\n    queryConfig: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Object syntax\n  async prefetchQuery<TResult, TError, TKey extends QueryKeyWithoutArray>(\n    config: PrefetchQueryObjectConfig<TResult, TError, [TKey]>\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult, TError, TKey extends TupleQueryKey>(\n    config: PrefetchQueryObjectConfig<TResult, TError, TKey>\n  ): Promise<TResult | undefined>\n\n  // Implementation\n  async prefetchQuery<TResult, TError>(\n    ...args: any[]\n  ): Promise<TResult | undefined> {\n    if (\n      isObject(args[1]) &&\n      (args[1].hasOwnProperty('throwOnError') ||\n        args[1].hasOwnProperty('force'))\n    ) {\n      args[3] = args[1]\n      args[1] = undefined\n      args[2] = undefined\n    }\n\n    const [queryKey, config, options] = getQueryArgs<\n      TResult,\n      TError,\n      PrefetchQueryOptions | undefined\n    >(args)\n    // https://github.com/tannerlinsley/react-query/issues/652\n    const configWithoutRetry = { retry: false, ...config }\n\n    try {\n      const query = this.buildQuery<TResult, TError>(\n        queryKey,\n        configWithoutRetry\n      )\n      if (options?.force || query.state.isStale) {\n        await query.fetch()\n      }\n      return query.state.data\n    } catch (err) {\n      if (options?.throwOnError) {\n        throw err\n      }\n      Console.error(err)\n      return\n    }\n  }\n\n  setQueryData<TResult, TError = unknown>(\n    queryKey: QueryKey,\n    updater: Updater<TResult | undefined, TResult>,\n    config: QueryConfig<TResult, TError> = {}\n  ) {\n    let query = this.getQuery<TResult, TError>(queryKey)\n\n    if (!query) {\n      query = this.buildQuery<TResult, TError>(queryKey, config)\n    }\n\n    query.setData(updater)\n  }\n}\n\nexport const queryCache = makeQueryCache({ frozen: isServer })\n\nexport const queryCaches = [queryCache]\n\nexport function makeQueryCache(config?: QueryCacheConfig) {\n  return new QueryCache(config)\n}\n","import { isOnline, isDocumentVisible, Console, isServer } from './utils'\nimport { queryCaches } from './queryCache'\n\ntype FocusHandler = () => void\n\nconst visibilityChangeEvent = 'visibilitychange'\nconst focusEvent = 'focus'\n\nconst onWindowFocus: FocusHandler = () => {\n  if (isDocumentVisible() && isOnline()) {\n    queryCaches.forEach(queryCache =>\n      queryCache\n        .invalidateQueries(query => {\n          if (!query.instances.length) {\n            return false\n          }\n\n          if (!query.instances.some(instance => instance.config.enabled)) {\n            return false\n          }\n\n          if (!query.state.isStale) {\n            return false\n          }\n\n          if (query.shouldContinueRetryOnFocus) {\n            // delete promise, so refetching will create new one\n            delete query.promise\n          }\n\n          return Boolean(query.config.refetchOnWindowFocus)\n        })\n        .catch(Console.error)\n    )\n  }\n}\n\nlet removePreviousHandler: (() => void) | void\n\nexport function setFocusHandler(callback: (callback: FocusHandler) => void) {\n  // Unsub the old watcher\n  if (removePreviousHandler) {\n    removePreviousHandler()\n  }\n  // Sub the new watcher\n  removePreviousHandler = callback(onWindowFocus)\n}\n\nsetFocusHandler((handleFocus: FocusHandler) => {\n  // Listen to visibillitychange and focus\n  if (!isServer && window?.addEventListener) {\n    window.addEventListener(visibilityChangeEvent, handleFocus, false)\n    window.addEventListener(focusEvent, handleFocus, false)\n\n    return () => {\n      // Be sure to unsubscribe if a new handler is set\n      window.removeEventListener(visibilityChangeEvent, handleFocus)\n      window.removeEventListener(focusEvent, handleFocus)\n    }\n  }\n  return\n})\n","import React from 'react'\n\nimport {\n  queryCache as defaultQueryCache,\n  queryCaches,\n  makeQueryCache,\n} from '../core'\nimport { QueryCache } from '../core/queryCache'\n\nexport const queryCacheContext = React.createContext(defaultQueryCache)\n\nexport const useQueryCache = () => React.useContext(queryCacheContext)\n\nexport interface ReactQueryCacheProviderProps {\n  queryCache?: QueryCache\n}\n\nexport const ReactQueryCacheProvider: React.FC<ReactQueryCacheProviderProps> = ({\n  queryCache,\n  children,\n}) => {\n  const resolvedQueryCache = React.useMemo(\n    () => queryCache || makeQueryCache(),\n    [queryCache]\n  )\n\n  React.useEffect(() => {\n    queryCaches.push(resolvedQueryCache)\n\n    return () => {\n      // remove the cache from the active list\n      const i = queryCaches.indexOf(resolvedQueryCache)\n      if (i > -1) {\n        queryCaches.splice(i, 1)\n      }\n      // if the resolvedQueryCache was created by us, we need to tear it down\n      if (queryCache == null) {\n        resolvedQueryCache.clear({ notify: false })\n      }\n    }\n  }, [resolvedQueryCache, queryCache])\n\n  return (\n    <queryCacheContext.Provider value={resolvedQueryCache}>\n      {children}\n    </queryCacheContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { DEFAULT_CONFIG, defaultConfigRef } from '../core/config'\nimport { ReactQueryConfig } from '../core/types'\n\nconst configContext = React.createContext<ReactQueryConfig | undefined>(\n  undefined\n)\n\nexport function useConfigContext() {\n  return React.useContext(configContext) || defaultConfigRef.current\n}\n\nexport interface ReactQueryProviderConfig extends ReactQueryConfig {}\n\nexport interface ReactQueryConfigProviderProps {\n  config: ReactQueryProviderConfig\n}\n\nexport const ReactQueryConfigProvider: React.FC<ReactQueryConfigProviderProps> = ({\n  config,\n  children,\n}) => {\n  const configContextValueOrDefault = useConfigContext()\n  const configContextValue = React.useContext(configContext)\n\n  const newConfig = React.useMemo<ReactQueryConfig>(() => {\n    const { shared = {}, queries = {}, mutations = {} } = config\n    const {\n      shared: contextShared = {},\n      queries: contextQueries = {},\n      mutations: contextMutations = {},\n    } = configContextValueOrDefault\n\n    return {\n      shared: {\n        ...contextShared,\n        ...shared,\n      },\n      queries: {\n        ...contextQueries,\n        ...queries,\n      },\n      mutations: {\n        ...contextMutations,\n        ...mutations,\n      },\n    }\n  }, [config, configContextValueOrDefault])\n\n  React.useEffect(() => {\n    // restore previous config on unmount\n    return () => {\n      defaultConfigRef.current = {\n        ...(configContextValueOrDefault || DEFAULT_CONFIG),\n      }\n    }\n  }, [configContextValueOrDefault])\n\n  // If this is the outermost provider, overwrite the shared default config\n  if (!configContextValue) {\n    defaultConfigRef.current = newConfig\n  }\n\n  return (\n    <configContext.Provider value={newConfig}>\n      {children}\n    </configContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { uid, isServer } from '../core/utils'\nimport { QueryResultBase, QueryStatus } from '../core/types'\n\nexport function useUid(): number {\n  const ref = React.useRef(0)\n\n  if (ref.current === null) {\n    ref.current = uid()\n  }\n\n  return ref.current\n}\n\nexport function useGetLatest<T>(obj: T): () => T {\n  const ref = React.useRef<T>(obj)\n  ref.current = obj\n  return React.useCallback(() => ref.current, [])\n}\n\nexport function useMountedCallback<T extends Function>(callback: T): T {\n  const mounted = React.useRef(false)\n\n  React[isServer ? 'useEffect' : 'useLayoutEffect'](() => {\n    mounted.current = true\n    return () => {\n      mounted.current = false\n    }\n  }, [])\n\n  return (React.useCallback(\n    (...args: any[]) => (mounted.current ? callback(...args) : void 0),\n    [callback]\n  ) as any) as T\n}\n\nexport function useRerenderer() {\n  const rerender = useMountedCallback(React.useState<unknown>()[1])\n  return React.useCallback(() => rerender({}), [rerender])\n}\n\nexport function handleSuspense(result: QueryResultBase<any, any>) {\n  const { error, query } = result\n  const { config, state } = query\n\n  if (config.suspense || config.useErrorBoundary) {\n    if (state.status === QueryStatus.Error && state.throwInErrorBoundary) {\n      throw error\n    }\n\n    if (\n      config.suspense &&\n      state.status !== QueryStatus.Success &&\n      config.enabled\n    ) {\n      query.wasSuspended = true\n      throw query.fetch()\n    }\n  }\n}\n","import React from 'react'\n\nimport { useRerenderer, useGetLatest } from './utils'\nimport { useQueryCache } from './ReactQueryCacheProvider'\n\nexport function useIsFetching(): number {\n  const queryCache = useQueryCache()\n  const rerender = useRerenderer()\n  const isFetching = queryCache.isFetching\n\n  const getIsFetching = useGetLatest(isFetching)\n\n  React.useEffect(\n    () =>\n      queryCache.subscribe(newCache => {\n        if (getIsFetching() !== newCache.isFetching) {\n          rerender()\n        }\n      }),\n    [getIsFetching, queryCache, rerender]\n  )\n\n  return isFetching\n}\n","import React from 'react'\n\nimport { useConfigContext } from './ReactQueryConfigProvider'\nimport { useGetLatest, useMountedCallback } from './utils'\nimport { Console, uid, getStatusProps } from '../core/utils'\nimport {\n  QueryStatus,\n  MutationResultPair,\n  MutationFunction,\n  MutationConfig,\n  MutateConfig,\n} from '../core/types'\n\n// TYPES\n\ntype Reducer<S, A> = (prevState: S, action: A) => S\n\ninterface State<TResult, TError> {\n  status: QueryStatus\n  data: TResult | undefined\n  error: TError | null\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n}\n\nenum ActionType {\n  Reset = 'Reset',\n  Loading = 'Loading',\n  Resolve = 'Resolve',\n  Reject = 'Reject',\n}\n\ninterface ResetAction {\n  type: ActionType.Reset\n}\n\ninterface LoadingAction {\n  type: ActionType.Loading\n}\n\ninterface ResolveAction<TResult> {\n  type: ActionType.Resolve\n  data: TResult\n}\n\ninterface RejectAction<TError> {\n  type: ActionType.Reject\n  error: TError\n}\n\ntype Action<TResult, TError> =\n  | ResetAction\n  | LoadingAction\n  | ResolveAction<TResult>\n  | RejectAction<TError>\n\n// HOOK\n\nconst getDefaultState = (): State<any, any> => ({\n  ...getStatusProps(QueryStatus.Idle),\n  data: undefined,\n  error: null,\n})\n\nfunction mutationReducer<TResult, TError>(\n  state: State<TResult, TError>,\n  action: Action<TResult, TError>\n): State<TResult, TError> {\n  switch (action.type) {\n    case ActionType.Reset:\n      return getDefaultState()\n    case ActionType.Loading:\n      return {\n        ...getStatusProps(QueryStatus.Loading),\n        data: undefined,\n        error: null,\n      }\n    case ActionType.Resolve:\n      return {\n        ...getStatusProps(QueryStatus.Success),\n        data: action.data,\n        error: null,\n      }\n    case ActionType.Reject:\n      return {\n        ...getStatusProps(QueryStatus.Error),\n        data: undefined,\n        error: action.error,\n      }\n    default:\n      return state\n  }\n}\n\nexport function useMutation<\n  TResult,\n  TError = unknown,\n  TVariables = undefined,\n  TSnapshot = unknown\n>(\n  mutationFn: MutationFunction<TResult, TVariables>,\n  config: MutationConfig<TResult, TError, TVariables, TSnapshot> = {}\n): MutationResultPair<TResult, TError, TVariables, TSnapshot> {\n  const [state, unsafeDispatch] = React.useReducer(\n    mutationReducer as Reducer<State<TResult, TError>, Action<TResult, TError>>,\n    null,\n    getDefaultState\n  )\n\n  const dispatch = useMountedCallback(unsafeDispatch)\n\n  const getMutationFn = useGetLatest(mutationFn)\n\n  const contextConfig = useConfigContext()\n\n  const getConfig = useGetLatest({\n    ...contextConfig.shared,\n    ...contextConfig.mutations,\n    ...config,\n  })\n\n  const latestMutationRef = React.useRef<number>()\n\n  const mutate = React.useCallback(\n    async (\n      variables?: TVariables,\n      mutateConfig: MutateConfig<TResult, TError, TVariables, TSnapshot> = {}\n    ): Promise<TResult | undefined> => {\n      const config = getConfig()\n\n      const mutationId = uid()\n      latestMutationRef.current = mutationId\n\n      const isLatest = () => latestMutationRef.current === mutationId\n\n      let snapshotValue: TSnapshot | undefined\n\n      try {\n        dispatch({ type: ActionType.Loading })\n        snapshotValue = (await config.onMutate?.(variables!)) as TSnapshot\n\n        const data = await getMutationFn()(variables!)\n\n        if (isLatest()) {\n          dispatch({ type: ActionType.Resolve, data })\n        }\n\n        await config.onSuccess?.(data, variables!)\n        await mutateConfig.onSuccess?.(data, variables!)\n        await config.onSettled?.(data, null, variables!)\n        await mutateConfig.onSettled?.(data, null, variables!)\n\n        return data\n      } catch (error) {\n        Console.error(error)\n        await config.onError?.(error, variables!, snapshotValue!)\n        await mutateConfig.onError?.(error, variables!, snapshotValue!)\n        await config.onSettled?.(\n          undefined,\n          error,\n          variables!,\n          snapshotValue as TSnapshot\n        )\n        await mutateConfig.onSettled?.(\n          undefined,\n          error,\n          variables!,\n          snapshotValue\n        )\n\n        if (isLatest()) {\n          dispatch({ type: ActionType.Reject, error })\n        }\n\n        if (mutateConfig.throwOnError ?? config.throwOnError) {\n          throw error\n        }\n\n        return\n      }\n    },\n    [dispatch, getConfig, getMutationFn]\n  )\n\n  const reset = React.useCallback(() => {\n    dispatch({ type: ActionType.Reset })\n  }, [dispatch])\n\n  React.useEffect(() => {\n    const { suspense, useErrorBoundary } = getConfig()\n\n    if ((useErrorBoundary ?? suspense) && state.error) {\n      throw state.error\n    }\n  }, [getConfig, state.error])\n\n  return [mutate, { ...state, reset }]\n}\n","import React from 'react'\n\nimport { useQueryCache } from './ReactQueryCacheProvider'\nimport { useRerenderer } from './utils'\nimport { QueryInstance } from '../core/queryInstance'\nimport { QueryConfig, QueryKey, QueryResultBase } from '../core/types'\n\nexport function useBaseQuery<TResult, TError>(\n  queryKey: QueryKey,\n  config: QueryConfig<TResult, TError> = {}\n): QueryResultBase<TResult, TError> {\n  // Make a rerender function\n  const rerender = useRerenderer()\n\n  // Get the query cache\n  const queryCache = useQueryCache()\n\n  // Build the query for use\n  const query = queryCache.buildQuery<TResult, TError>(queryKey, config)\n  const state = query.state\n\n  // Create a query instance ref\n  const instanceRef = React.useRef<QueryInstance<TResult, TError>>()\n\n  // Subscribe to the query when the subscribe function changes\n  React.useEffect(() => {\n    const instance = query.subscribe(() => {\n      rerender()\n    })\n\n    instanceRef.current = instance\n\n    // Unsubscribe when things change\n    return () => instance.unsubscribe()\n  }, [query, rerender])\n\n  // Always update the config\n  React.useEffect(() => {\n    instanceRef.current?.updateConfig(config)\n  })\n\n  const enabledBool = Boolean(config.enabled)\n\n  // Run the instance when the query or enabled change\n  React.useEffect(() => {\n    if (enabledBool && query) {\n      // Just for change detection\n    }\n    instanceRef.current?.run()\n  }, [enabledBool, query])\n\n  const clear = React.useMemo(() => query.clear.bind(query), [query])\n  const refetch = React.useMemo(() => query.refetch.bind(query), [query])\n\n  return {\n    clear,\n    error: state.error,\n    failureCount: state.failureCount,\n    isError: state.isError,\n    isFetching: state.isFetching,\n    isIdle: state.isIdle,\n    isLoading: state.isLoading,\n    isStale: state.isStale,\n    isSuccess: state.isSuccess,\n    query,\n    refetch,\n    status: state.status,\n    updatedAt: state.updatedAt,\n  }\n}\n","import { getQueryArgs } from '../core/utils'\nimport { useConfigContext } from './ReactQueryConfigProvider'\nimport { QueryConfig, QueryKey } from '../core/types'\n\nexport function useQueryArgs<TResult, TError, TOptions = undefined>(\n  args: any[]\n): [QueryKey, QueryConfig<TResult, TError>, TOptions] {\n  const configContext = useConfigContext()\n\n  const [queryKey, config, options] = getQueryArgs<TResult, TError, TOptions>(\n    args\n  )\n\n  // Build the final config\n  const configWithContext = {\n    ...configContext.shared,\n    ...configContext.queries,\n    ...config,\n  } as QueryConfig<TResult, TError>\n\n  return [queryKey, configWithContext, options]\n}\n","import { useBaseQuery } from './useBaseQuery'\nimport { handleSuspense } from './utils'\nimport {\n  QueryConfig,\n  QueryKey,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObject,\n  QueryKeyWithoutObjectAndArray,\n  QueryResult,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from '../core/types'\nimport { useQueryArgs } from './useQueryArgs'\n\n// TYPES\n\nexport interface UseQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, [TKey]>\n  config?: QueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function useQuery<TResult, TError, TKey extends QueryKeyWithoutObject>(\n  queryKey: TKey,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObjectAndArray\n>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, [TKey]>,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useQuery<TResult, TError, TKey extends TupleQueryKey>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, TKey>,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Object syntax\nexport function useQuery<TResult, TError, TKey extends QueryKeyWithoutArray>(\n  config: UseQueryObjectConfig<TResult, TError, [TKey]>\n): QueryResult<TResult, TError>\n\nexport function useQuery<TResult, TError, TKey extends TupleQueryKey>(\n  config: UseQueryObjectConfig<TResult, TError, TKey>\n): QueryResult<TResult, TError>\n\n// Implementation\nexport function useQuery<TResult, TError>(\n  ...args: any[]\n): QueryResult<TResult, TError> {\n  const [queryKey, config] = useQueryArgs<TResult, TError>(args)\n  const result = useBaseQuery<TResult, TError>(queryKey, config)\n\n  handleSuspense(result)\n\n  return {\n    ...result,\n    data: result.query.state.data,\n  }\n}\n","import React from 'react'\n\nimport { useBaseQuery } from './useBaseQuery'\nimport { handleSuspense } from './utils'\nimport { getStatusProps } from '../core/utils'\nimport {\n  PaginatedQueryConfig,\n  PaginatedQueryResult,\n  QueryKey,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObject,\n  QueryKeyWithoutObjectAndArray,\n  QueryStatus,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from '../core/types'\nimport { useQueryArgs } from './useQueryArgs'\n\n// A paginated query is more like a \"lag\" query, which means\n// as the query key changes, we keep the results from the\n// last query and use them as placeholder data in the next one\n// We DON'T use it as initial data though. That's important\n\n// TYPES\n\nexport interface UsePaginatedQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, TKey>\n  config?: PaginatedQueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObject\n>(\n  queryKey: TKey,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObjectAndArray\n>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, [TKey]>,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\nexport function usePaginatedQuery<TResult, TError, TKey extends TupleQueryKey>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, TKey>,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Object syntax\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutArray\n>(\n  config: UsePaginatedQueryObjectConfig<TResult, TError, [TKey]>\n): PaginatedQueryResult<TResult, TError>\n\nexport function usePaginatedQuery<TResult, TError, TKey extends TupleQueryKey>(\n  config: UsePaginatedQueryObjectConfig<TResult, TError, TKey>\n): PaginatedQueryResult<TResult, TError>\n\n// Implementation\nexport function usePaginatedQuery<TResult, TError>(\n  ...args: any[]\n): PaginatedQueryResult<TResult, TError> {\n  const [queryKey, config] = useQueryArgs<TResult, TError>(args)\n\n  // Keep track of the latest data result\n  const lastDataRef = React.useRef<TResult>()\n\n  // If latestData is there, don't use initialData\n  if (typeof lastDataRef.current !== 'undefined') {\n    delete config.initialData\n  }\n\n  // Make the query as normal\n  const result = useBaseQuery<TResult, TError>(queryKey, config)\n\n  // If the query is disabled, get rid of the latest data\n  if (!result.query.config.enabled) {\n    lastDataRef.current = undefined\n  }\n\n  // Get the real data and status from the query\n  const { data: latestData, status } = result.query.state\n\n  // If the real query succeeds, and there is data in it,\n  // update the latest data\n  React.useEffect(() => {\n    if (status === QueryStatus.Success && typeof latestData !== 'undefined') {\n      lastDataRef.current = latestData\n    }\n  }, [latestData, status])\n\n  // Resolved data should be either the real data we're waiting on\n  // or the latest placeholder data\n  let resolvedData = latestData\n  if (typeof resolvedData === 'undefined') {\n    resolvedData = lastDataRef.current\n  }\n\n  // If we have any data at all from either, we\n  // need to make sure the status is success, even though\n  // the real query may still be loading\n  if (typeof resolvedData !== 'undefined') {\n    const overrides = getStatusProps(QueryStatus.Success)\n    Object.assign(result.query.state, overrides)\n    Object.assign(result, overrides)\n  }\n\n  handleSuspense(result)\n\n  return {\n    ...result,\n    resolvedData,\n    latestData,\n  }\n}\n","import React from 'react'\n\nimport { useBaseQuery } from './useBaseQuery'\nimport { handleSuspense } from './utils'\nimport {\n  InfiniteQueryConfig,\n  InfiniteQueryResult,\n  QueryKey,\n  QueryKeyWithoutArray,\n  QueryKeyWithoutObject,\n  QueryKeyWithoutObjectAndArray,\n  TupleQueryFunction,\n  TupleQueryKey,\n} from '../core/types'\nimport { useQueryArgs } from './useQueryArgs'\n\n// TYPES\n\nexport interface UseInfiniteQueryObjectConfig<\n  TResult,\n  TError,\n  TKey extends TupleQueryKey\n> {\n  queryKey: QueryKey\n  queryFn?: TupleQueryFunction<TResult, TKey>\n  config?: InfiniteQueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObject\n>(\n  queryKey: TKey,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutObjectAndArray\n>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, [TKey]>,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\nexport function useInfiniteQuery<TResult, TError, TKey extends TupleQueryKey>(\n  queryKey: TKey,\n  queryFn: TupleQueryFunction<TResult, TKey>,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Object syntax\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TKey extends QueryKeyWithoutArray\n>(\n  config: UseInfiniteQueryObjectConfig<TResult, TError, [TKey]>\n): InfiniteQueryResult<TResult, TError>\n\nexport function useInfiniteQuery<TResult, TError, TKey extends TupleQueryKey>(\n  config: UseInfiniteQueryObjectConfig<TResult, TError, TKey>\n): InfiniteQueryResult<TResult, TError>\n\n// Implementation\nexport function useInfiniteQuery<TResult, TError>(\n  ...args: any[]\n): InfiniteQueryResult<TResult, TError> {\n  const [queryKey, config] = useQueryArgs<TResult[], TError>(args)\n\n  config.infinite = true\n\n  const result = useBaseQuery<TResult[], TError>(queryKey, config)\n  const query = result.query\n  const state = result.query.state\n\n  handleSuspense(result)\n\n  const fetchMore = React.useMemo(() => query.fetchMore.bind(query), [query])\n\n  return {\n    ...result,\n    data: state.data,\n    canFetchMore: state.canFetchMore,\n    fetchMore,\n    isFetching: state.isFetching,\n    isFetchingMore: state.isFetchingMore,\n  }\n}\n"],"names":["QueryStatus","_uid","uid","cancelledError","isServer","window","noop","identity","d","Console","console","error","warn","log","setConsole","c","functionalUpdate","updater","input","stableStringifyReplacer","_key","value","Error","isObject","Object","keys","sort","reduce","result","key","stableStringify","JSON","stringify","a","Array","isArray","deepIncludes","b","some","isDocumentVisible","visibilityState","document","undefined","includes","isOnline","navigator","onLine","getQueryArgs","args","queryKey","queryFn","config","options","deepEqual","equal","shallowEqual","deep","depth","length","i","valueOf","prototype","hasOwnProperty","call","getStatusProps","status","isLoading","Loading","isSuccess","Success","isError","isIdle","Idle","defaultQueryKeySerializerFn","arrayQueryKey","queryHash","parse","DEFAULT_CONFIG","shared","suspense","queries","queryKeySerializerFn","enabled","retry","retryDelay","attemptIndex","Math","min","staleTime","cacheTime","refetchOnWindowFocus","refetchInterval","queryFnParamsFilter","refetchOnMount","isDataEqual","useErrorBoundary","mutations","throwOnError","defaultConfigRef","current","direct","then","Promise","resolve","body","recover","e","QueryInstance","query","onStateUpdate","id","clearInterval","refetchIntervalId","updateConfig","oldConfig","clearIntervals","minInterval","instances","map","Infinity","setInterval","_","refetchIntervalInBackground","fetch","run","wasSuspended","state","isStale","unsubscribe","filter","cancel","scheduleGarbageCollection","_empty","ActionType","f","arguments","apply","reject","pact","s","v","o","bind","observer","onFulfilled","onRejected","callback","_this","thenable","test","awaitBody","shouldContinue","_resumeAfterBody","_resumeAfterTest","thrown","finalizer","Query","init","queryCache","notifyGlobalListeners","getDefaultState","infinite","infiniteConfig","infiniteData","data","canFetchMore","fetchMoreVariable","getFetchMore","pageVariables","dispatch","action","newState","queryReducer","forEach","scheduleStaleTimeout","clearStaleTimeout","staleTimeout","setTimeout","invalidate","type","MarkStale","clearCacheTimeout","MarkGC","cacheTimeout","removeQueries","markedForGarbageCollection","refetch","heal","cancelled","cancelPromises","promise","instance","clearTimeout","clearRetryTimeout","retryTimeout","setState","SetState","setData","clear","subscribe","push","tryFetchData","fn","promiseOrValue","shouldContinueRetryOnFocus","failureCount","Failed","delay","fetchMore","originalQueryFn","rebuiltPageVariables","shift","nextCursor","pageArgs","slice","previous","old","isFetchingMore","newArgs","newData","getCallbackInstances","callbackInstances","fallbackInstance","unshift","Fetch","onSuccess","onSettled","onError","initialData","hasInitialData","initialStale","initialStatus","isFetching","updatedAt","Date","now","throwInErrorBoundary","QueryCache","globalListeners","configRef","defaultConfig","values","acc","listener","splice","indexOf","notify","getQueries","predicate","predicateFn","exact","getQuery","getQueryData","cancelQueries","invalidateQueries","refetchActive","refetchInactive","all","err","resetErrorBoundaries","buildQuery","userQueryKey","queryConfig","frozen","prefetchQuery","configWithoutRetry","force","setQueryData","makeQueryCache","queryCaches","visibilityChangeEvent","focusEvent","onWindowFocus","Boolean","catch","removePreviousHandler","setFocusHandler","handleFocus","addEventListener","removeEventListener","queryCacheContext","React","createContext","defaultQueryCache","useQueryCache","useContext","ReactQueryCacheProvider","children","resolvedQueryCache","useMemo","useEffect","configContext","useConfigContext","ReactQueryConfigProvider","configContextValueOrDefault","configContextValue","newConfig","contextShared","contextQueries","contextMutations","useGetLatest","obj","ref","useRef","useCallback","useMountedCallback","mounted","useRerenderer","rerender","useState","handleSuspense","useIsFetching","getIsFetching","newCache","_await","mutationReducer","Reset","Resolve","Reject","useMutation","mutationFn","useReducer","unsafeDispatch","getMutationFn","contextConfig","getConfig","latestMutationRef","mutate","variables","mutateConfig","mutationId","isLatest","snapshotValue","onMutate","reset","useBaseQuery","instanceRef","enabledBool","useQueryArgs","configWithContext","useQuery","usePaginatedQuery","lastDataRef","latestData","resolvedData","overrides","assign","useInfiniteQuery"],"mappings":"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"}